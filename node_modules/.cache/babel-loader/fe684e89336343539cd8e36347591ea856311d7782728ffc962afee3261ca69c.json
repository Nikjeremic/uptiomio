{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button}from'primereact/button';import{useAuth}from'./AuthContext';import Sidebar from'./Sidebar';import InvoiceList from'./InvoiceList';import CreateInvoice from'./CreateInvoice';import CreateUser from'./CreateUser';import Profile from'./Profile';import AdminProfiles from'./AdminProfiles';import HiltiProizvodnja from'./HiltiProizvodnja';import HiltiRadnice from'./HiltiRadnice';import HiltiProizvodi from'./HiltiProizvodi';import HiltiIzvestaji from'./HiltiIzvestaji';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{user}=useAuth();const isHilti=(user===null||user===void 0?void 0:user.role)==='hilti';const isSefLagera=(user===null||user===void 0?void 0:user.role)==='sef_lagera';// Postavi početni tab na osnovu role korisnika\nconst getInitialTab=()=>{if(isHilti||isSefLagera){return 5;// Hilti Proizvodnja\n}return 0;// Invoices za ostale\n};const[activeTab,setActiveTab]=useState(getInitialTab());const[isSidebarCollapsed,setIsSidebarCollapsed]=useState(false);const[isMobileOpen,setIsMobileOpen]=useState(false);const[isMobile,setIsMobile]=useState(false);const isAdmin=(user===null||user===void 0?void 0:user.role)==='admin';useEffect(()=>{const checkMobile=()=>{const mobile=window.innerWidth<=768;const tablet=window.innerWidth<=1024&&window.innerWidth>768;setIsMobile(mobile);// Auto-collapse sidebar on mobile, keep user preference on tablet/desktop\nif(mobile){setIsSidebarCollapsed(false);}};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);const renderContent=()=>{switch(activeTab){case 0:return/*#__PURE__*/_jsx(InvoiceList,{isAdmin:isAdmin});case 1:return isAdmin?/*#__PURE__*/_jsx(CreateInvoice,{}):null;case 2:return isAdmin?/*#__PURE__*/_jsx(AdminProfiles,{}):null;case 3:return isAdmin?/*#__PURE__*/_jsx(CreateUser,{}):null;case 4:return/*#__PURE__*/_jsx(Profile,{});case 5:return/*#__PURE__*/_jsx(HiltiProizvodnja,{});case 6:return/*#__PURE__*/_jsx(HiltiRadnice,{});case 7:return/*#__PURE__*/_jsx(HiltiProizvodi,{});case 8:return/*#__PURE__*/_jsx(HiltiIzvestaji,{});default:return/*#__PURE__*/_jsx(InvoiceList,{isAdmin:isAdmin});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(Sidebar,{activeTab:activeTab,onTabChange:setActiveTab,isCollapsed:isSidebarCollapsed,onToggleCollapse:()=>setIsSidebarCollapsed(!isSidebarCollapsed),isMobileOpen:isMobileOpen,onMobileClose:()=>setIsMobileOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content \".concat(isSidebarCollapsed&&!isMobile?'sidebar-collapsed':''),children:[isMobile&&/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-header\",children:[/*#__PURE__*/_jsx(Button,{icon:\"pi pi-bars\",className:\"mobile-menu-button\",onClick:()=>setIsMobileOpen(true),text:true,rounded:true}),/*#__PURE__*/_jsx(\"h2\",{className:\"mobile-title\",children:\"Uptimio\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content-wrapper\",children:renderContent()})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Button","useAuth","Sidebar","InvoiceList","CreateInvoice","CreateUser","Profile","AdminProfiles","HiltiProizvodnja","HiltiRadnice","HiltiProizvodi","HiltiIzvestaji","jsx","_jsx","jsxs","_jsxs","Dashboard","user","isHilti","role","isSefLagera","getInitialTab","activeTab","setActiveTab","isSidebarCollapsed","setIsSidebarCollapsed","isMobileOpen","setIsMobileOpen","isMobile","setIsMobile","isAdmin","checkMobile","mobile","window","innerWidth","tablet","addEventListener","removeEventListener","renderContent","className","children","onTabChange","isCollapsed","onToggleCollapse","onMobileClose","concat","icon","onClick","text","rounded"],"sources":["/home/nikjeremic/Desktop/uptiomio/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button } from 'primereact/button';\nimport { useAuth } from './AuthContext';\nimport Sidebar from './Sidebar';\nimport InvoiceList from './InvoiceList';\nimport CreateInvoice from './CreateInvoice';\nimport CreateUser from './CreateUser';\nimport Profile from './Profile';\nimport AdminProfiles from './AdminProfiles';\nimport HiltiProizvodnja from './HiltiProizvodnja';\nimport HiltiRadnice from './HiltiRadnice';\nimport HiltiProizvodi from './HiltiProizvodi';\nimport HiltiIzvestaji from './HiltiIzvestaji';\nimport './Dashboard.css';\n\nconst Dashboard: React.FC = () => {\n  const { user } = useAuth();\n  const isHilti = user?.role === 'hilti';\n  const isSefLagera = user?.role === 'sef_lagera';\n  \n  // Postavi početni tab na osnovu role korisnika\n  const getInitialTab = () => {\n    if (isHilti || isSefLagera) {\n      return 5; // Hilti Proizvodnja\n    }\n    return 0; // Invoices za ostale\n  };\n  \n  const [activeTab, setActiveTab] = useState(getInitialTab());\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  const isAdmin = user?.role === 'admin';\n\n  useEffect(() => {\n    const checkMobile = () => {\n      const mobile = window.innerWidth <= 768;\n      const tablet = window.innerWidth <= 1024 && window.innerWidth > 768;\n      setIsMobile(mobile);\n      \n      // Auto-collapse sidebar on mobile, keep user preference on tablet/desktop\n      if (mobile) {\n        setIsSidebarCollapsed(false);\n      }\n    };\n\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  const renderContent = () => {\n    switch (activeTab) {\n      case 0:\n        return <InvoiceList isAdmin={isAdmin} />;\n      case 1:\n        return isAdmin ? <CreateInvoice /> : null;\n      case 2:\n        return isAdmin ? <AdminProfiles /> : null;\n      case 3:\n        return isAdmin ? <CreateUser /> : null;\n      case 4:\n        return <Profile />;\n      case 5:\n        return <HiltiProizvodnja />;\n      case 6:\n        return <HiltiRadnice />;\n      case 7:\n        return <HiltiProizvodi />;\n      case 8:\n        return <HiltiIzvestaji />;\n      default:\n        return <InvoiceList isAdmin={isAdmin} />;\n    }\n  };\n\n  return (\n    <div className=\"dashboard-container\">\n      <Sidebar\n        activeTab={activeTab}\n        onTabChange={setActiveTab}\n        isCollapsed={isSidebarCollapsed}\n        onToggleCollapse={() => setIsSidebarCollapsed(!isSidebarCollapsed)}\n        isMobileOpen={isMobileOpen}\n        onMobileClose={() => setIsMobileOpen(false)}\n      />\n      \n      <div className={`main-content ${isSidebarCollapsed && !isMobile ? 'sidebar-collapsed' : ''}`}>\n        {/* Mobile Menu Button */}\n        {isMobile && (\n          <div className=\"mobile-header\">\n            <Button\n              icon=\"pi pi-bars\"\n              className=\"mobile-menu-button\"\n              onClick={() => setIsMobileOpen(true)}\n              text\n              rounded\n            />\n            <h2 className=\"mobile-title\">Uptimio</h2>\n          </div>\n        )}\n        \n        <div className=\"content-wrapper\">\n          {renderContent()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}