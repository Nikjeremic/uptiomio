{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button}from'primereact/button';import{useAuth}from'./AuthContext';import Sidebar from'./Sidebar';import InvoiceList from'./InvoiceList';import CreateInvoice from'./CreateInvoice';import CreateUser from'./CreateUser';import Profile from'./Profile';import AdminProfiles from'./AdminProfiles';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{user}=useAuth();const[activeTab,setActiveTab]=useState(0);const[isSidebarCollapsed,setIsSidebarCollapsed]=useState(false);const[isMobileOpen,setIsMobileOpen]=useState(false);const[isMobile,setIsMobile]=useState(false);const isAdmin=(user===null||user===void 0?void 0:user.role)==='admin';useEffect(()=>{const checkMobile=()=>{const mobile=window.innerWidth<=768;const tablet=window.innerWidth<=1024&&window.innerWidth>768;setIsMobile(mobile);// Auto-collapse sidebar on mobile, keep user preference on tablet/desktop\nif(mobile){setIsSidebarCollapsed(false);}};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);const renderContent=()=>{switch(activeTab){case 0:return/*#__PURE__*/_jsx(InvoiceList,{isAdmin:isAdmin});case 1:return isAdmin?/*#__PURE__*/_jsx(CreateInvoice,{}):null;case 2:return isAdmin?/*#__PURE__*/_jsx(AdminProfiles,{}):null;case 3:return isAdmin?/*#__PURE__*/_jsx(CreateUser,{}):null;case 4:return/*#__PURE__*/_jsx(Profile,{});default:return/*#__PURE__*/_jsx(InvoiceList,{isAdmin:isAdmin});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(Sidebar,{activeTab:activeTab,onTabChange:setActiveTab,isCollapsed:isSidebarCollapsed,onToggleCollapse:()=>setIsSidebarCollapsed(!isSidebarCollapsed),isMobileOpen:isMobileOpen,onMobileClose:()=>setIsMobileOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content \".concat(isSidebarCollapsed&&!isMobile?'sidebar-collapsed':''),children:[isMobile&&/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-header\",children:[/*#__PURE__*/_jsx(Button,{icon:\"pi pi-bars\",className:\"mobile-menu-button\",onClick:()=>setIsMobileOpen(true),text:true,rounded:true}),/*#__PURE__*/_jsx(\"h2\",{className:\"mobile-title\",children:\"Uptimio\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content-wrapper\",children:renderContent()})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Button","useAuth","Sidebar","InvoiceList","CreateInvoice","CreateUser","Profile","AdminProfiles","jsx","_jsx","jsxs","_jsxs","Dashboard","user","activeTab","setActiveTab","isSidebarCollapsed","setIsSidebarCollapsed","isMobileOpen","setIsMobileOpen","isMobile","setIsMobile","isAdmin","role","checkMobile","mobile","window","innerWidth","tablet","addEventListener","removeEventListener","renderContent","className","children","onTabChange","isCollapsed","onToggleCollapse","onMobileClose","concat","icon","onClick","text","rounded"],"sources":["/home/nikjeremic/Desktop/paymentService/uptiomio/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button } from 'primereact/button';\nimport { useAuth } from './AuthContext';\nimport Sidebar from './Sidebar';\nimport InvoiceList from './InvoiceList';\nimport CreateInvoice from './CreateInvoice';\nimport CreateUser from './CreateUser';\nimport Profile from './Profile';\nimport AdminProfiles from './AdminProfiles';\nimport './Dashboard.css';\n\nconst Dashboard: React.FC = () => {\n  const { user } = useAuth();\n  const [activeTab, setActiveTab] = useState(0);\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  const isAdmin = user?.role === 'admin';\n\n  useEffect(() => {\n    const checkMobile = () => {\n      const mobile = window.innerWidth <= 768;\n      const tablet = window.innerWidth <= 1024 && window.innerWidth > 768;\n      setIsMobile(mobile);\n      \n      // Auto-collapse sidebar on mobile, keep user preference on tablet/desktop\n      if (mobile) {\n        setIsSidebarCollapsed(false);\n      }\n    };\n\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  const renderContent = () => {\n    switch (activeTab) {\n      case 0:\n        return <InvoiceList isAdmin={isAdmin} />;\n      case 1:\n        return isAdmin ? <CreateInvoice /> : null;\n      case 2:\n        return isAdmin ? <AdminProfiles /> : null;\n      case 3:\n        return isAdmin ? <CreateUser /> : null;\n      case 4:\n        return <Profile />;\n      default:\n        return <InvoiceList isAdmin={isAdmin} />;\n    }\n  };\n\n  return (\n    <div className=\"dashboard-container\">\n      <Sidebar\n        activeTab={activeTab}\n        onTabChange={setActiveTab}\n        isCollapsed={isSidebarCollapsed}\n        onToggleCollapse={() => setIsSidebarCollapsed(!isSidebarCollapsed)}\n        isMobileOpen={isMobileOpen}\n        onMobileClose={() => setIsMobileOpen(false)}\n      />\n      \n      <div className={`main-content ${isSidebarCollapsed && !isMobile ? 'sidebar-collapsed' : ''}`}>\n        {/* Mobile Menu Button */}\n        {isMobile && (\n          <div className=\"mobile-header\">\n            <Button\n              icon=\"pi pi-bars\"\n              className=\"mobile-menu-button\"\n              onClick={() => setIsMobileOpen(true)}\n              text\n              rounded\n            />\n            <h2 className=\"mobile-title\">Uptimio</h2>\n          </div>\n        )}\n        \n        <div className=\"content-wrapper\">\n          {renderContent()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}