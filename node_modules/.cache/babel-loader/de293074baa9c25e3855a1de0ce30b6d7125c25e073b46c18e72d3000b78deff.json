{"ast":null,"code":"import _objectSpread from\"/home/nikjeremic/Desktop/paymentService/uptiomio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{Card}from'primereact/card';import{InputText}from'primereact/inputtext';import{Button}from'primereact/button';import{Message}from'primereact/message';import{profileAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const[form,setForm]=useState({});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');useEffect(()=>{(async()=>{try{const res=await profileAPI.get();setForm(res.data||{});}catch(e){var _e$response,_e$response$data;setError(((_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.message)||'Failed to load profile');}})();},[]);const set=(key,value)=>setForm(f=>_objectSpread(_objectSpread({},f),{},{[key]:value}));const onSave=async e=>{e.preventDefault();setError('');setSuccess('');setLoading(true);try{const{data}=await profileAPI.update(form);setForm(data);setSuccess('Profile saved successfully.');}catch(e){var _e$response2,_e$response2$data;setError(((_e$response2=e.response)===null||_e$response2===void 0?void 0:(_e$response2$data=_e$response2.data)===null||_e$response2$data===void 0?void 0:_e$response2$data.message)||'Failed to save profile');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"profile-container\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Business Profile\"}),/*#__PURE__*/_jsx(\"p\",{children:\"These details will appear on your invoices (currency: USD).\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSave,className:\"profile-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full name\"}),/*#__PURE__*/_jsx(InputText,{value:form.fullName||'',onChange:e=>set('fullName',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Company name\"}),/*#__PURE__*/_jsx(InputText,{value:form.companyName||'',onChange:e=>set('companyName',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address\"}),/*#__PURE__*/_jsx(InputText,{value:form.addressLine||'',onChange:e=>set('addressLine',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"City\"}),/*#__PURE__*/_jsx(InputText,{value:form.city||'',onChange:e=>set('city',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"State/Province\"}),/*#__PURE__*/_jsx(InputText,{value:form.state||'',onChange:e=>set('state',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Postal code\"}),/*#__PURE__*/_jsx(InputText,{value:form.postalCode||'',onChange:e=>set('postalCode',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(InputText,{value:form.country||'',onChange:e=>set('country',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone\"}),/*#__PURE__*/_jsx(InputText,{value:form.phone||'',onChange:e=>set('phone',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Logo URL\"}),/*#__PURE__*/_jsx(InputText,{value:form.logoUrl||'',onChange:e=>set('logoUrl',e.target.value)})]})]}),error&&/*#__PURE__*/_jsx(Message,{severity:\"error\",text:error}),success&&/*#__PURE__*/_jsx(Message,{severity:\"success\",text:success}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'flex-end',marginTop:16},children:/*#__PURE__*/_jsx(Button,{type:\"submit\",label:\"Save profile\",loading:loading})})]})]})});};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","Card","InputText","Button","Message","profileAPI","jsx","_jsx","jsxs","_jsxs","Profile","form","setForm","loading","setLoading","error","setError","success","setSuccess","res","get","data","e","_e$response","_e$response$data","response","message","set","key","value","f","_objectSpread","onSave","preventDefault","update","_e$response2","_e$response2$data","className","children","onSubmit","fullName","onChange","target","companyName","addressLine","city","state","postalCode","country","phone","logoUrl","severity","text","style","display","justifyContent","marginTop","type","label"],"sources":["/home/nikjeremic/Desktop/paymentService/uptiomio/src/components/Profile.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Card } from 'primereact/card';\nimport { InputText } from 'primereact/inputtext';\nimport { Button } from 'primereact/button';\nimport { Message } from 'primereact/message';\nimport { profileAPI } from '../services/api';\n\nconst Profile: React.FC = () => {\n  const [form, setForm] = useState<any>({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await profileAPI.get();\n        setForm(res.data || {});\n      } catch (e: any) {\n        setError(e.response?.data?.message || 'Failed to load profile');\n      }\n    })();\n  }, []);\n\n  const set = (key: string, value: any) => setForm((f: any) => ({ ...f, [key]: value }));\n\n  const onSave = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(''); setSuccess(''); setLoading(true);\n    try {\n      const { data } = await profileAPI.update(form);\n      setForm(data);\n      setSuccess('Profile saved successfully.');\n    } catch (e: any) {\n      setError(e.response?.data?.message || 'Failed to save profile');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"profile-container\">\n      <Card>\n        <h2>Business Profile</h2>\n        <p>These details will appear on your invoices (currency: USD).</p>\n        <form onSubmit={onSave} className=\"profile-form\">\n          <div className=\"field-grid\">\n            <div className=\"field\">\n              <label>Full name</label>\n              <InputText value={form.fullName || ''} onChange={(e) => set('fullName', e.target.value)} />\n            </div>\n            <div className=\"field\">\n              <label>Company name</label>\n              <InputText value={form.companyName || ''} onChange={(e) => set('companyName', e.target.value)} />\n            </div>\n            <div className=\"field\">\n              <label>Address</label>\n              <InputText value={form.addressLine || ''} onChange={(e) => set('addressLine', e.target.value)} />\n            </div>\n            <div className=\"field\">\n              <label>City</label>\n              <InputText value={form.city || ''} onChange={(e) => set('city', e.target.value)} />\n            </div>\n            <div className=\"field\">\n              <label>State/Province</label>\n              <InputText value={form.state || ''} onChange={(e) => set('state', e.target.value)} />\n            </div>\n            <div className=\"field\">\n              <label>Postal code</label>\n              <InputText value={form.postalCode || ''} onChange={(e) => set('postalCode', e.target.value)} />\n            </div>\n            <div className=\"field\">\n              <label>Country</label>\n              <InputText value={form.country || ''} onChange={(e) => set('country', e.target.value)} />\n            </div>\n            <div className=\"field\">\n              <label>Phone</label>\n              <InputText value={form.phone || ''} onChange={(e) => set('phone', e.target.value)} />\n            </div>\n            <div className=\"field\">\n              <label>Logo URL</label>\n              <InputText value={form.logoUrl || ''} onChange={(e) => set('logoUrl', e.target.value)} />\n            </div>\n          </div>\n\n          {error && <Message severity=\"error\" text={error} />}\n          {success && <Message severity=\"success\" text={success} />}\n\n          <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: 16 }}>\n            <Button type=\"submit\" label=\"Save profile\" loading={loading} />\n          </div>\n        </form>\n      </Card>\n    </div>\n  );\n};\n\nexport default Profile; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}