{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_BASE_URL||'https://payments.uptimio.com/api';const api=axios.create({baseURL:API_BASE_URL});// Add token to requests\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;});export const authAPI={login:(email,password)=>api.post('/login',{email,password}),register:(name,email,password,role)=>api.post('/register',{name,email,password,role})};export const profileAPI={get:()=>api.get('/profile'),update:data=>api.put('/profile',data),getByUserId:userId=>api.get(\"/users/\".concat(userId,\"/profile\")),updateByUserId:(userId,data)=>api.put(\"/users/\".concat(userId,\"/profile\"),data),uploadLogo:file=>{const form=new FormData();form.append('file',file);return api.post('/profile/logo',form,{headers:{'Content-Type':'multipart/form-data'}});},uploadSignature:file=>{const form=new FormData();form.append('file',file);return api.post('/profile/signature',form,{headers:{'Content-Type':'multipart/form-data'}});},uploadLogoForUser:(userId,file)=>{const form=new FormData();form.append('file',file);return api.post(\"/users/\".concat(userId,\"/profile/logo\"),form,{headers:{'Content-Type':'multipart/form-data'}});}};export const invoiceAPI={getAllInvoices:search=>api.get('/invoices',{params:search?{search}:undefined}),getMyInvoices:search=>api.get('/my-invoices',{params:search?{search}:undefined}),getById:id=>api.get(\"/invoices/\".concat(id)),createInvoice:invoiceData=>api.post('/invoices',invoiceData),markAsPaid:(id,paymentMethod)=>api.patch(\"/invoices/\".concat(id,\"/pay\"),{paymentMethod}),deleteById:id=>api.delete(\"/invoices/\".concat(id))};export const userAPI={getAllUsers:()=>api.get('/users'),createUser:(name,email,password,role,profile)=>api.post('/users',{name,email,password,role,profile}),deleteUser:id=>api.delete(\"/users/\".concat(id))};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","concat","authAPI","login","email","password","post","register","name","role","profileAPI","get","update","data","put","getByUserId","userId","updateByUserId","uploadLogo","file","form","FormData","append","uploadSignature","uploadLogoForUser","invoiceAPI","getAllInvoices","search","params","undefined","getMyInvoices","getById","id","createInvoice","invoiceData","markAsPaid","paymentMethod","patch","deleteById","delete","userAPI","getAllUsers","createUser","profile","deleteUser"],"sources":["/home/nikjeremic/Desktop/paymentService/uptiomio/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'https://payments.uptimio.com/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n});\n\n// Add token to requests\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    (config.headers as any).Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\nexport const authAPI = {\n  login: (email: string, password: string) =>\n    api.post('/login', { email, password }),\n  register: (name: string, email: string, password: string, role?: string) =>\n    api.post('/register', { name, email, password, role }),\n};\n\nexport const profileAPI = {\n  get: () => api.get('/profile'),\n  update: (data: any) => api.put('/profile', data),\n  getByUserId: (userId: string) => api.get(`/users/${userId}/profile`),\n  updateByUserId: (userId: string, data: any) => api.put(`/users/${userId}/profile`, data),\n  uploadLogo: (file: File) => {\n    const form = new FormData();\n    form.append('file', file);\n    return api.post('/profile/logo', form, { headers: { 'Content-Type': 'multipart/form-data' } });\n  },\n  uploadSignature: (file: File) => {\n    const form = new FormData();\n    form.append('file', file);\n    return api.post('/profile/signature', form, { headers: { 'Content-Type': 'multipart/form-data' } });\n  },\n  uploadLogoForUser: (userId: string, file: File) => {\n    const form = new FormData();\n    form.append('file', file);\n    return api.post(`/users/${userId}/profile/logo`, form, { headers: { 'Content-Type': 'multipart/form-data' } });\n  }\n};\n\nexport const invoiceAPI = {\n  getAllInvoices: (search?: string) => api.get('/invoices', { params: search ? { search } : undefined }),\n  getMyInvoices: (search?: string) => api.get('/my-invoices', { params: search ? { search } : undefined }),\n  getById: (id: string) => api.get(`/invoices/${id}`),\n  createInvoice: (invoiceData: any) => api.post('/invoices', invoiceData),\n  markAsPaid: (id: string, paymentMethod: string) =>\n    api.patch(`/invoices/${id}/pay`, { paymentMethod }),\n  deleteById: (id: string) => api.delete(`/invoices/${id}`)\n};\n\nexport const userAPI = {\n  getAllUsers: () => api.get('/users'),\n  createUser: (name: string, email: string, password: string, role: 'user' | 'admin', profile?: any) =>\n    api.post('/users', { name, email, password, role, profile }),\n  deleteUser: (id: string) => api.delete(`/users/${id}`)\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}