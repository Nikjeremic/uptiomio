{"ast":null,"code":"var _jsxFileName = \"/home/nikjeremic/Desktop/uptiomio/src/components/SelfTaxCalculator.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Card } from 'primereact/card';\nimport { InputNumber } from 'primereact/inputnumber';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Checkbox } from 'primereact/checkbox';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Message } from 'primereact/message';\nimport { invoiceAPI } from '../services/api';\nimport { useAuth } from './AuthContext';\nimport './SelfTaxCalculator.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst N1 = 107738;\nconst N2 = 64979;\nconst TAX1 = 0.20;\nconst TAX2 = 0.10;\nconst PIO_RATE = 0.24;\nconst PIO_MIN_OPT2 = 33084;\nconst HEALTH_RATE = 0.103;\nconst HEALTH_MIN = 6276;\nfunction calculateQuarter(income, option, hasOtherHealthInsurance) {\n  const safeIncome = Math.max(0, income || 0);\n  if (option === 1) {\n    const taxableIncome = Math.max(0, safeIncome - N1);\n    const tax = taxableIncome * TAX1;\n    const pension = taxableIncome * PIO_RATE;\n    const healthBase = taxableIncome * HEALTH_RATE;\n    const health = hasOtherHealthInsurance ? 0 : Math.max(HEALTH_MIN, healthBase || 0);\n    const total = tax + pension + health;\n    const effectiveRate = safeIncome > 0 ? total / safeIncome * 100 : 0;\n    return {\n      taxableIncome,\n      tax,\n      pension,\n      health,\n      total,\n      effectiveRate\n    };\n  }\n\n  // option 2\n  const normCosts = N2 + safeIncome * 0.34;\n  const taxableIncome = Math.max(0, safeIncome - normCosts);\n  const tax = taxableIncome * TAX2;\n  const pension = Math.max(PIO_MIN_OPT2, taxableIncome * PIO_RATE);\n  const healthBase = taxableIncome * HEALTH_RATE;\n  const health = hasOtherHealthInsurance ? 0 : Math.max(HEALTH_MIN, healthBase || 0);\n  const total = tax + pension + health;\n  const effectiveRate = safeIncome > 0 ? total / safeIncome * 100 : 0;\n  return {\n    taxableIncome,\n    tax,\n    pension,\n    health,\n    total,\n    effectiveRate\n  };\n}\nconst SelfTaxCalculator = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const isAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'admin';\n  const [income, setIncome] = useState(null);\n  const [option, setOption] = useState(1);\n  const [hasOtherHealthInsurance, setHasOtherHealthInsurance] = useState(false);\n  const [allInvoices, setAllInvoices] = useState([]);\n  const [loadingInvoices, setLoadingInvoices] = useState(false);\n  const [error, setError] = useState(null);\n  const currentYear = new Date().getFullYear();\n  const [selectedQuarter, setSelectedQuarter] = useState(1);\n  const [selectedYear, setSelectedYear] = useState(currentYear);\n  const [eurRate, setEurRate] = useState(null);\n  const [usdRate, setUsdRate] = useState(null);\n  const [ratesDate, setRatesDate] = useState(null);\n  useEffect(() => {\n    const loadInvoices = async () => {\n      try {\n        setLoadingInvoices(true);\n        setError(null);\n        const {\n          data\n        } = isAdmin ? await invoiceAPI.getAllInvoices() : await invoiceAPI.getMyInvoices();\n        setAllInvoices(data);\n      } catch (e) {\n        var _e$response, _e$response$data;\n        setError((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || 'Ne mogu da učitam fakture');\n      } finally {\n        setLoadingInvoices(false);\n      }\n    };\n    loadInvoices();\n  }, [isAdmin]);\n  const quarterIncome = useMemo(() => {\n    const startMonth = (selectedQuarter - 1) * 3;\n    const start = new Date(selectedYear, startMonth, 1);\n    start.setHours(0, 0, 0, 0);\n    const end = new Date(selectedYear, startMonth + 3, 1);\n    return allInvoices.filter(inv => inv.isPaid && inv.paidAt).filter(inv => {\n      const paid = new Date(inv.paidAt);\n      return paid >= start && paid < end;\n    }).reduce((sum, inv) => {\n      const rawAmount = inv.amount;\n      const numericAmount = typeof rawAmount === 'number' ? rawAmount : Number(rawAmount) || 0;\n      return sum + numericAmount;\n    }, 0);\n  }, [allInvoices, selectedQuarter, selectedYear]);\n  useEffect(() => {\n    setIncome(quarterIncome);\n  }, [quarterIncome]);\n  const incomeValue = income !== null && income !== void 0 ? income : 0;\n  const result = calculateQuarter(incomeValue, option, hasOtherHealthInsurance);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"self-tax-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"self-tax-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Samooporezivanje \\u2013 kalkulator po kvartalu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Unesi ukupan bruto prihod u kvartalu, izaberi opciju oporezivanja i vidi koliki su porez, PIO i zdravstveno po zvani\\u010Dnom vodi\\u010Du za frilensere (jun 2025).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"self-tax-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"self-tax-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"quarter\",\n            children: \"Kvartal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n            id: \"quarter\",\n            value: selectedQuarter,\n            options: [{\n              label: 'I kvartal (jan–mart)',\n              value: 1\n            }, {\n              label: 'II kvartal (apr–jun)',\n              value: 2\n            }, {\n              label: 'III kvartal (jul–sep)',\n              value: 3\n            }, {\n              label: 'IV kvartal (okt–dec)',\n              value: 4\n            }],\n            onChange: e => setSelectedQuarter(e.value),\n            className: \"w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"year\",\n            children: \"Godina\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n            id: \"year\",\n            value: selectedYear,\n            options: [{\n              label: String(currentYear - 1),\n              value: currentYear - 1\n            }, {\n              label: String(currentYear),\n              value: currentYear\n            }, {\n              label: String(currentYear + 1),\n              value: currentYear + 1\n            }],\n            onChange: e => setSelectedYear(e.value),\n            className: \"w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"field-help\",\n            children: \"Prihod se sabira iz faktura sa statusom Paid i datumom pla\\u0107anja u tom kvartalu.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"income\",\n            children: \"Kvartalni prihod (RSD)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputNumber, {\n            id: \"income\",\n            value: income,\n            onValueChange: e => {\n              var _e$value;\n              return setIncome((_e$value = e.value) !== null && _e$value !== void 0 ? _e$value : 0);\n            },\n            mode: \"currency\",\n            currency: \"RSD\",\n            locale: \"sr-RS\",\n            min: 0,\n            className: \"w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"option\",\n            children: \"Model oporezivanja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n            id: \"option\",\n            value: option,\n            options: [{\n              label: 'Opcija 1 – normirani troškovi 107.738 RSD',\n              value: 1\n            }, {\n              label: 'Opcija 2 – normirani 64.979 RSD + 34% prihoda',\n              value: 2\n            }],\n            onChange: e => setOption(e.value),\n            className: \"w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field checkbox-field\",\n          children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n            inputId: \"health\",\n            checked: hasOtherHealthInsurance,\n            onChange: e => setHasOtherHealthInsurance(!!e.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"health\",\n            children: \"Zdravstveno osiguran sam po drugom osnovu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"self-tax-results\",\n        children: [loadingInvoices && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"results-loading\",\n          children: [/*#__PURE__*/_jsxDEV(ProgressSpinner, {\n            style: {\n              width: '30px',\n              height: '30px'\n            },\n            strokeWidth: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"U\\u010Ditavam fakture\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"results-error\",\n          children: /*#__PURE__*/_jsxDEV(Message, {\n            severity: \"error\",\n            text: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), !loadingInvoices && !error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Prihod iz pla\\u0107enih faktura\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [quarterIncome.toLocaleString('sr-RS', {\n              maximumFractionDigits: 0\n            }), \" RSD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Rezultat za kvartal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Oporezivi prihod\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [result.taxableIncome.toLocaleString('sr-RS', {\n              maximumFractionDigits: 0\n            }), \" RSD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Porez\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [result.tax.toLocaleString('sr-RS', {\n              maximumFractionDigits: 0\n            }), \" RSD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"PIO doprinos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [result.pension.toLocaleString('sr-RS', {\n              maximumFractionDigits: 0\n            }), \" RSD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Zdravstveno osiguranje\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [result.health.toLocaleString('sr-RS', {\n              maximumFractionDigits: 0\n            }), \" RSD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-row total\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Ukupno za uplatu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [result.total.toLocaleString('sr-RS', {\n              maximumFractionDigits: 0\n            }), \" RSD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Efektivno optere\\u0107enje\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [incomeValue > 0 ? result.effectiveRate.toFixed(2) : '0.00', \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n};\n_s(SelfTaxCalculator, \"Clhis8rbGGHtP/5VZB/K36ovtCU=\", false, function () {\n  return [useAuth];\n});\n_c = SelfTaxCalculator;\nexport default SelfTaxCalculator;\nvar _c;\n$RefreshReg$(_c, \"SelfTaxCalculator\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Card","InputNumber","Dropdown","Checkbox","ProgressSpinner","Message","invoiceAPI","useAuth","jsxDEV","_jsxDEV","N1","N2","TAX1","TAX2","PIO_RATE","PIO_MIN_OPT2","HEALTH_RATE","HEALTH_MIN","calculateQuarter","income","option","hasOtherHealthInsurance","safeIncome","Math","max","taxableIncome","tax","pension","healthBase","health","total","effectiveRate","normCosts","SelfTaxCalculator","_s","user","isAdmin","role","setIncome","setOption","setHasOtherHealthInsurance","allInvoices","setAllInvoices","loadingInvoices","setLoadingInvoices","error","setError","currentYear","Date","getFullYear","selectedQuarter","setSelectedQuarter","selectedYear","setSelectedYear","eurRate","setEurRate","usdRate","setUsdRate","ratesDate","setRatesDate","loadInvoices","data","getAllInvoices","getMyInvoices","e","_e$response","_e$response$data","response","message","quarterIncome","startMonth","start","setHours","end","filter","inv","isPaid","paidAt","paid","reduce","sum","rawAmount","amount","numericAmount","Number","incomeValue","result","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","value","options","label","onChange","String","onValueChange","_e$value","mode","currency","locale","min","inputId","checked","style","width","height","strokeWidth","severity","text","toLocaleString","maximumFractionDigits","toFixed","_c","$RefreshReg$"],"sources":["/home/nikjeremic/Desktop/uptiomio/src/components/SelfTaxCalculator.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { Card } from 'primereact/card';\nimport { InputNumber } from 'primereact/inputnumber';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Checkbox } from 'primereact/checkbox';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { Message } from 'primereact/message';\nimport { invoiceAPI, nbsAPI } from '../services/api';\nimport { useAuth } from './AuthContext';\nimport { Invoice } from '../types';\nimport './SelfTaxCalculator.css';\n\ninterface CalculationResult {\n  taxableIncome: number;\n  tax: number;\n  pension: number;\n  health: number;\n  total: number;\n  effectiveRate: number;\n}\n\ntype TaxOption = 1 | 2;\n\nconst N1 = 107_738;\nconst N2 = 64_979;\nconst TAX1 = 0.20;\nconst TAX2 = 0.10;\nconst PIO_RATE = 0.24;\nconst PIO_MIN_OPT2 = 33_084;\nconst HEALTH_RATE = 0.103;\nconst HEALTH_MIN = 6_276;\n\nfunction calculateQuarter(\n  income: number,\n  option: TaxOption,\n  hasOtherHealthInsurance: boolean\n): CalculationResult {\n  const safeIncome = Math.max(0, income || 0);\n\n  if (option === 1) {\n    const taxableIncome = Math.max(0, safeIncome - N1);\n    const tax = taxableIncome * TAX1;\n    const pension = taxableIncome * PIO_RATE;\n    const healthBase = taxableIncome * HEALTH_RATE;\n    const health = hasOtherHealthInsurance ? 0 : Math.max(HEALTH_MIN, healthBase || 0);\n    const total = tax + pension + health;\n    const effectiveRate = safeIncome > 0 ? (total / safeIncome) * 100 : 0;\n\n    return { taxableIncome, tax, pension, health, total, effectiveRate };\n  }\n\n  // option 2\n  const normCosts = N2 + safeIncome * 0.34;\n  const taxableIncome = Math.max(0, safeIncome - normCosts);\n  const tax = taxableIncome * TAX2;\n  const pension = Math.max(PIO_MIN_OPT2, taxableIncome * PIO_RATE);\n  const healthBase = taxableIncome * HEALTH_RATE;\n  const health = hasOtherHealthInsurance ? 0 : Math.max(HEALTH_MIN, healthBase || 0);\n  const total = tax + pension + health;\n  const effectiveRate = safeIncome > 0 ? (total / safeIncome) * 100 : 0;\n\n  return { taxableIncome, tax, pension, health, total, effectiveRate };\n}\n\nconst SelfTaxCalculator: React.FC = () => {\n  const { user } = useAuth();\n  const isAdmin = user?.role === 'admin';\n  const [income, setIncome] = useState<number | null>(null);\n  const [option, setOption] = useState<TaxOption>(1);\n  const [hasOtherHealthInsurance, setHasOtherHealthInsurance] = useState(false);\n  const [allInvoices, setAllInvoices] = useState<Invoice[]>([]);\n  const [loadingInvoices, setLoadingInvoices] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const currentYear = new Date().getFullYear();\n  const [selectedQuarter, setSelectedQuarter] = useState<1 | 2 | 3 | 4>(1);\n  const [selectedYear, setSelectedYear] = useState<number>(currentYear);\n  const [eurRate, setEurRate] = useState<number | null>(null);\n  const [usdRate, setUsdRate] = useState<number | null>(null);\n  const [ratesDate, setRatesDate] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadInvoices = async () => {\n      try {\n        setLoadingInvoices(true);\n        setError(null);\n        const { data } = isAdmin\n          ? await invoiceAPI.getAllInvoices()\n          : await invoiceAPI.getMyInvoices();\n        setAllInvoices(data);\n      } catch (e: any) {\n        setError(e?.response?.data?.message || 'Ne mogu da učitam fakture');\n      } finally {\n        setLoadingInvoices(false);\n      }\n    };\n    loadInvoices();\n  }, [isAdmin]);\n\n  const quarterIncome = useMemo(() => {\n    const startMonth = (selectedQuarter - 1) * 3;\n    const start = new Date(selectedYear, startMonth, 1);\n    start.setHours(0, 0, 0, 0);\n    const end = new Date(selectedYear, startMonth + 3, 1);\n\n    return allInvoices\n      .filter((inv) => inv.isPaid && inv.paidAt)\n      .filter((inv) => {\n        const paid = new Date(inv.paidAt as string);\n        return paid >= start && paid < end;\n      })\n      .reduce((sum, inv) => {\n        const rawAmount: any = (inv as any).amount;\n        const numericAmount =\n          typeof rawAmount === 'number' ? rawAmount : Number(rawAmount) || 0;\n        return sum + numericAmount;\n      }, 0);\n  }, [allInvoices, selectedQuarter, selectedYear]);\n\n  useEffect(() => {\n    setIncome(quarterIncome);\n  }, [quarterIncome]);\n\n  const incomeValue = income ?? 0;\n  const result = calculateQuarter(incomeValue, option, hasOtherHealthInsurance);\n\n  return (\n    <div className=\"self-tax-container\">\n      <div className=\"self-tax-header\">\n        <h1>Samooporezivanje – kalkulator po kvartalu</h1>\n        <p>\n          Unesi ukupan bruto prihod u kvartalu, izaberi opciju oporezivanja i vidi koliki su porez,\n          PIO i zdravstveno po zvaničnom vodiču za frilensere (jun 2025).\n        </p>\n      </div>\n\n      <Card className=\"self-tax-card\">\n        <div className=\"self-tax-form\">\n          <div className=\"field\">\n            <label htmlFor=\"quarter\">Kvartal</label>\n            <Dropdown\n              id=\"quarter\"\n              value={selectedQuarter}\n              options={[\n                { label: 'I kvartal (jan–mart)', value: 1 },\n                { label: 'II kvartal (apr–jun)', value: 2 },\n                { label: 'III kvartal (jul–sep)', value: 3 },\n                { label: 'IV kvartal (okt–dec)', value: 4 }\n              ]}\n              onChange={(e) => setSelectedQuarter(e.value as 1 | 2 | 3 | 4)}\n              className=\"w-full\"\n            />\n          </div>\n\n          <div className=\"field\">\n            <label htmlFor=\"year\">Godina</label>\n            <Dropdown\n              id=\"year\"\n              value={selectedYear}\n              options={[\n                { label: String(currentYear - 1), value: currentYear - 1 },\n                { label: String(currentYear), value: currentYear },\n                { label: String(currentYear + 1), value: currentYear + 1 }\n              ]}\n              onChange={(e) => setSelectedYear(e.value as number)}\n              className=\"w-full\"\n            />\n            <small className=\"field-help\">\n              Prihod se sabira iz faktura sa statusom Paid i datumom plaćanja u tom kvartalu.\n            </small>\n          </div>\n          <div className=\"field\">\n            <label htmlFor=\"income\">Kvartalni prihod (RSD)</label>\n            <InputNumber\n              id=\"income\"\n              value={income}\n              onValueChange={(e) => setIncome(e.value ?? 0)}\n              mode=\"currency\"\n              currency=\"RSD\"\n              locale=\"sr-RS\"\n              min={0}\n              className=\"w-full\"\n            />\n          </div>\n\n          <div className=\"field\">\n            <label htmlFor=\"option\">Model oporezivanja</label>\n            <Dropdown\n              id=\"option\"\n              value={option}\n              options={[\n                { label: 'Opcija 1 – normirani troškovi 107.738 RSD', value: 1 },\n                { label: 'Opcija 2 – normirani 64.979 RSD + 34% prihoda', value: 2 }\n              ]}\n              onChange={(e) => setOption(e.value as TaxOption)}\n              className=\"w-full\"\n            />\n          </div>\n\n          <div className=\"field checkbox-field\">\n            <Checkbox\n              inputId=\"health\"\n              checked={hasOtherHealthInsurance}\n              onChange={(e) => setHasOtherHealthInsurance(!!e.checked)}\n            />\n            <label htmlFor=\"health\">Zdravstveno osiguran sam po drugom osnovu</label>\n          </div>\n        </div>\n\n        <div className=\"self-tax-results\">\n          {loadingInvoices && (\n            <div className=\"results-loading\">\n              <ProgressSpinner style={{ width: '30px', height: '30px' }} strokeWidth=\"4\" />\n              <span>Učitavam fakture…</span>\n            </div>\n          )}\n          {error && (\n            <div className=\"results-error\">\n              <Message severity=\"error\" text={error} />\n            </div>\n          )}\n          {!loadingInvoices && !error && (\n            <div className=\"result-row\">\n              <span>Prihod iz plaćenih faktura</span>\n              <span>{quarterIncome.toLocaleString('sr-RS', { maximumFractionDigits: 0 })} RSD</span>\n            </div>\n          )}\n          <h2>Rezultat za kvartal</h2>\n          <div className=\"result-row\">\n            <span>Oporezivi prihod</span>\n            <span>{result.taxableIncome.toLocaleString('sr-RS', { maximumFractionDigits: 0 })} RSD</span>\n          </div>\n          <div className=\"result-row\">\n            <span>Porez</span>\n            <span>{result.tax.toLocaleString('sr-RS', { maximumFractionDigits: 0 })} RSD</span>\n          </div>\n          <div className=\"result-row\">\n            <span>PIO doprinos</span>\n            <span>{result.pension.toLocaleString('sr-RS', { maximumFractionDigits: 0 })} RSD</span>\n          </div>\n          <div className=\"result-row\">\n            <span>Zdravstveno osiguranje</span>\n            <span>{result.health.toLocaleString('sr-RS', { maximumFractionDigits: 0 })} RSD</span>\n          </div>\n          <div className=\"result-row total\">\n            <span>Ukupno za uplatu</span>\n            <span>{result.total.toLocaleString('sr-RS', { maximumFractionDigits: 0 })} RSD</span>\n          </div>\n          <div className=\"result-row\">\n            <span>Efektivno opterećenje</span>\n            <span>\n              {incomeValue > 0 ? result.effectiveRate.toFixed(2) : '0.00'}%\n            </span>\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n};\n\nexport default SelfTaxCalculator;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}