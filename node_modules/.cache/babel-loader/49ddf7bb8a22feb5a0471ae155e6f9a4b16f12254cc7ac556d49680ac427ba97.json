{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_BASE_URL||'https://payments.uptimio.com/api';const api=axios.create({baseURL:API_BASE_URL});// Add token to requests\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;});export const authAPI={login:(email,password)=>api.post('/login',{email,password}),register:(name,email,password,role)=>api.post('/register',{name,email,password,role})};export const profileAPI={get:()=>api.get('/profile'),update:data=>api.put('/profile',data),getByUserId:userId=>api.get(\"/users/\".concat(userId,\"/profile\")),updateByUserId:(userId,data)=>api.put(\"/users/\".concat(userId,\"/profile\"),data),uploadLogo:file=>{const form=new FormData();form.append('file',file);return api.post('/profile/logo',form,{headers:{'Content-Type':'multipart/form-data'}});},uploadSignature:file=>{const form=new FormData();form.append('file',file);return api.post('/profile/signature',form,{headers:{'Content-Type':'multipart/form-data'}});}};export const invoiceAPI={getAllInvoices:()=>api.get('/invoices'),getMyInvoices:()=>api.get('/my-invoices'),getById:id=>api.get(\"/invoices/\".concat(id)),createInvoice:invoiceData=>api.post('/invoices',invoiceData),markAsPaid:(id,paymentMethod)=>api.patch(\"/invoices/\".concat(id,\"/pay\"),{paymentMethod})};export const userAPI={getAllUsers:()=>api.get('/users'),createUser:(name,email,password,role,profile)=>api.post('/users',{name,email,password,role,profile})};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","concat","authAPI","login","email","password","post","register","name","role","profileAPI","get","update","data","put","getByUserId","userId","updateByUserId","uploadLogo","file","form","FormData","append","uploadSignature","invoiceAPI","getAllInvoices","getMyInvoices","getById","id","createInvoice","invoiceData","markAsPaid","paymentMethod","patch","userAPI","getAllUsers","createUser","profile"],"sources":["/home/nikjeremic/Desktop/paymentService/uptiomio/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'https://payments.uptimio.com/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n});\n\n// Add token to requests\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    (config.headers as any).Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\nexport const authAPI = {\n  login: (email: string, password: string) =>\n    api.post('/login', { email, password }),\n  register: (name: string, email: string, password: string, role?: string) =>\n    api.post('/register', { name, email, password, role }),\n};\n\nexport const profileAPI = {\n  get: () => api.get('/profile'),\n  update: (data: any) => api.put('/profile', data),\n  getByUserId: (userId: string) => api.get(`/users/${userId}/profile`),\n  updateByUserId: (userId: string, data: any) => api.put(`/users/${userId}/profile`, data),\n  uploadLogo: (file: File) => {\n    const form = new FormData();\n    form.append('file', file);\n    return api.post('/profile/logo', form, { headers: { 'Content-Type': 'multipart/form-data' } });\n  },\n  uploadSignature: (file: File) => {\n    const form = new FormData();\n    form.append('file', file);\n    return api.post('/profile/signature', form, { headers: { 'Content-Type': 'multipart/form-data' } });\n  },\n};\n\nexport const invoiceAPI = {\n  getAllInvoices: () => api.get('/invoices'),\n  getMyInvoices: () => api.get('/my-invoices'),\n  getById: (id: string) => api.get(`/invoices/${id}`),\n  createInvoice: (invoiceData: any) => api.post('/invoices', invoiceData),\n  markAsPaid: (id: string, paymentMethod: string) =>\n    api.patch(`/invoices/${id}/pay`, { paymentMethod }),\n};\n\nexport const userAPI = {\n  getAllUsers: () => api.get('/users'),\n  createUser: (name: string, email: string, password: string, role: 'user' | 'admin', profile?: any) =>\n    api.post('/users', { name, email, password, role, profile }),\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}