{"ast":null,"code":"import _objectSpread from\"/home/nikjeremic/Desktop/uptiomio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{Card}from'primereact/card';import{InputText}from'primereact/inputtext';import{Button}from'primereact/button';import{Message}from'primereact/message';import{Dialog}from'primereact/dialog';import{Password}from'primereact/password';import{profileAPI}from'../services/api';import'./Profile.css';// Define a strong type for the profile document we edit\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const defaultProfile={companyName:'',fullName:'',addressLine:'',city:'',state:'',postalCode:'',country:'',phone:'',logoUrl:'',signatureUrl:'',swiftCode:'',iban:'',cardNumber:'',// New payment instruction fields\nbankName:'',// Correspondent banks (up to 5)\ncorrespondentBank1:'',correspondentBank2:'',correspondentBank3:'',correspondentBank4:'',correspondentBank5:'',correspondentCountry1:'',correspondentCountry2:'',correspondentCountry3:'',correspondentCountry4:'',correspondentCountry5:'',correspondentSwift1:'',correspondentSwift2:'',correspondentSwift3:'',correspondentSwift4:'',correspondentSwift5:'',paymentInstructions:''};const Profile=()=>{const[form,setForm]=useState(defaultProfile);const[initialLoading,setInitialLoading]=useState(true);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[uploadingLogo,setUploadingLogo]=useState(false);const[uploadingSignature,setUploadingSignature]=useState(false);const[passwordDialog,setPasswordDialog]=useState(false);const[currentPassword,setCurrentPassword]=useState('');const[newPassword,setNewPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[passwordError,setPasswordError]=useState('');const[changingPassword,setChangingPassword]=useState(false);const[isMobile,setIsMobile]=useState(false);useEffect(()=>{(async()=>{try{const res=await profileAPI.get();setForm(_objectSpread(_objectSpread({},defaultProfile),res.data||{}));}catch(e){var _e$response,_e$response$data;setError((e===null||e===void 0?void 0:(_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.message)||'Failed to load profile');}finally{setInitialLoading(false);}})();},[]);useEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<=768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);const handleChange=(key,value)=>{setError('');setSuccess('');setForm(f=>_objectSpread(_objectSpread({},f),{},{[key]:value}));};const buildUpdatePayload=src=>{// Only send editable fields; backend will upsert and set updatedAt\nreturn{companyName:src.companyName||'',fullName:src.fullName||'',addressLine:src.addressLine||'',city:src.city||'',state:src.state||'',postalCode:src.postalCode||'',country:src.country||'',phone:src.phone||'',logoUrl:src.logoUrl||'',signatureUrl:src.signatureUrl||'',swiftCode:src.swiftCode||'',iban:src.iban||'',cardNumber:src.cardNumber||'',// New payment fields\nbankName:src.bankName||'',correspondentBank1:src.correspondentBank1||'',correspondentBank2:src.correspondentBank2||'',correspondentBank3:src.correspondentBank3||'',correspondentBank4:src.correspondentBank4||'',correspondentBank5:src.correspondentBank5||'',correspondentCountry1:src.correspondentCountry1||'',correspondentCountry2:src.correspondentCountry2||'',correspondentCountry3:src.correspondentCountry3||'',correspondentCountry4:src.correspondentCountry4||'',correspondentCountry5:src.correspondentCountry5||'',correspondentSwift1:src.correspondentSwift1||'',correspondentSwift2:src.correspondentSwift2||'',correspondentSwift3:src.correspondentSwift3||'',correspondentSwift4:src.correspondentSwift4||'',correspondentSwift5:src.correspondentSwift5||'',paymentInstructions:src.paymentInstructions||''};};const saveProfile=async()=>{setLoading(true);setError('');setSuccess('');try{await profileAPI.update(buildUpdatePayload(form));setSuccess('Profile updated successfully');}catch(e){var _e$response2,_e$response2$data;setError(((_e$response2=e.response)===null||_e$response2===void 0?void 0:(_e$response2$data=_e$response2.data)===null||_e$response2$data===void 0?void 0:_e$response2$data.message)||'Failed to update profile');}finally{setLoading(false);}};const changePassword=async()=>{setPasswordError('');if(!currentPassword||!newPassword||!confirmPassword){setPasswordError('All fields are required');return;}if(newPassword!==confirmPassword){setPasswordError('New passwords do not match');return;}if(newPassword.length<6){setPasswordError('New password must be at least 6 characters');return;}setChangingPassword(true);try{const response=await fetch('/api/profile/change-password',{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify({currentPassword,newPassword})});const data=await response.json();if(response.ok){setSuccess('Password changed successfully');setPasswordDialog(false);setCurrentPassword('');setNewPassword('');setConfirmPassword('');}else{setPasswordError(data.message||'Failed to change password');}}catch(e){setPasswordError('Failed to change password');}finally{setChangingPassword(false);}};const uploadFile=async(file,type)=>{const formData=new FormData();formData.append('file',file);formData.append('type',type);try{const response=await fetch('/api/upload',{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:formData});if(!response.ok){throw new Error('Upload failed');}const data=await response.json();return data.url;}catch(error){throw error;}};const handleFileUpload=async(file,type)=>{const setUploading=type==='logo'?setUploadingLogo:setUploadingSignature;setUploading(true);setError('');setSuccess('');try{const url=await uploadFile(file,type);const key=type==='logo'?'logoUrl':'signatureUrl';handleChange(key,url);setSuccess(\"\".concat(type==='logo'?'Logo':'Signature',\" uploaded successfully\"));}catch(e){setError(\"Failed to upload \".concat(type,\": \").concat(e.message));}finally{setUploading(false);}};if(initialLoading){return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-loading\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"pi pi-spin pi-spinner\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Loading profile...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsxs(Card,{title:\"Profile Settings\",className:\"profile-card\",children:[error&&/*#__PURE__*/_jsx(Message,{severity:\"error\",text:error}),success&&/*#__PURE__*/_jsx(Message,{severity:\"success\",text:success}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Company Name\"}),/*#__PURE__*/_jsx(InputText,{value:form.companyName,onChange:e=>handleChange('companyName',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(InputText,{value:form.fullName,onChange:e=>handleChange('fullName',e.target.value)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Address Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address Line\"}),/*#__PURE__*/_jsx(InputText,{value:form.addressLine,onChange:e=>handleChange('addressLine',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"City\"}),/*#__PURE__*/_jsx(InputText,{value:form.city,onChange:e=>handleChange('city',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"State\"}),/*#__PURE__*/_jsx(InputText,{value:form.state,onChange:e=>handleChange('state',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Postal Code\"}),/*#__PURE__*/_jsx(InputText,{value:form.postalCode,onChange:e=>handleChange('postalCode',e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(InputText,{value:form.country,onChange:e=>handleChange('country',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone\"}),/*#__PURE__*/_jsx(InputText,{value:form.phone,onChange:e=>handleChange('phone',e.target.value)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Media & Files\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Logo URL\"}),/*#__PURE__*/_jsx(InputText,{value:form.logoUrl,onChange:e=>handleChange('logoUrl',e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file)handleFileUpload(file,'logo');},className:\"file-input\"}),uploadingLogo&&/*#__PURE__*/_jsx(\"div\",{className:\"upload-status\",children:\"Uploading logo...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Signature URL\"}),/*#__PURE__*/_jsx(InputText,{value:form.signatureUrl,onChange:e=>handleChange('signatureUrl',e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>{var _e$target$files2;const file=(_e$target$files2=e.target.files)===null||_e$target$files2===void 0?void 0:_e$target$files2[0];if(file)handleFileUpload(file,'signature');},className:\"file-input\"}),uploadingSignature&&/*#__PURE__*/_jsx(\"div\",{className:\"upload-status\",children:\"Uploading signature...\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Payment Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Swift Code\"}),/*#__PURE__*/_jsx(InputText,{value:form.swiftCode,onChange:e=>handleChange('swiftCode',e.target.value),placeholder:\"SWIFT code for international transfers\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"IBAN\"}),/*#__PURE__*/_jsx(InputText,{value:form.iban,onChange:e=>handleChange('iban',e.target.value),placeholder:\"International Bank Account Number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Card Number\"}),/*#__PURE__*/_jsx(InputText,{value:form.cardNumber,onChange:e=>handleChange('cardNumber',e.target.value),placeholder:\"Card number for payments\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-grid-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Beneficiary Bank\"}),/*#__PURE__*/_jsx(InputText,{value:form.bankName,onChange:e=>handleChange('bankName',e.target.value),placeholder:\"e.g., Raiffeisen banka ad Beograd\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section-sub\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Correspondent Banks (up to 5)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"correspondent-bank-group\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Correspondent Bank 1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Bank Name\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentBank1,onChange:e=>handleChange('correspondentBank1',e.target.value),placeholder:\"e.g., Raiffeisen Bank International AG\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"SWIFT/BIC\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentSwift1,onChange:e=>handleChange('correspondentSwift1',e.target.value),placeholder:\"e.g., RZBAATWW\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentCountry1,onChange:e=>handleChange('correspondentCountry1',e.target.value),placeholder:\"e.g., Austria\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"correspondent-bank-group\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Correspondent Bank 2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Bank Name\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentBank2,onChange:e=>handleChange('correspondentBank2',e.target.value),placeholder:\"e.g., Deutsche Bank AG\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"SWIFT/BIC\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentSwift2,onChange:e=>handleChange('correspondentSwift2',e.target.value),placeholder:\"e.g., DEUTDEFF\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentCountry2,onChange:e=>handleChange('correspondentCountry2',e.target.value),placeholder:\"e.g., Germany\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"correspondent-bank-group\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Correspondent Bank 3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Bank Name\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentBank3,onChange:e=>handleChange('correspondentBank3',e.target.value),placeholder:\"Bank name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"SWIFT/BIC\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentSwift3,onChange:e=>handleChange('correspondentSwift3',e.target.value),placeholder:\"SWIFT code\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentCountry3,onChange:e=>handleChange('correspondentCountry3',e.target.value),placeholder:\"Country\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"correspondent-bank-group\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Correspondent Bank 4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Bank Name\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentBank4,onChange:e=>handleChange('correspondentBank4',e.target.value),placeholder:\"Bank name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"SWIFT/BIC\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentSwift4,onChange:e=>handleChange('correspondentSwift4',e.target.value),placeholder:\"SWIFT code\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentCountry4,onChange:e=>handleChange('correspondentCountry4',e.target.value),placeholder:\"Country\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"correspondent-bank-group\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Correspondent Bank 5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Bank Name\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentBank5,onChange:e=>handleChange('correspondentBank5',e.target.value),placeholder:\"Bank name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"SWIFT/BIC\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentSwift5,onChange:e=>handleChange('correspondentSwift5',e.target.value),placeholder:\"SWIFT code\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(InputText,{value:form.correspondentCountry5,onChange:e=>handleChange('correspondentCountry5',e.target.value),placeholder:\"Country\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Payment Instructions\"}),/*#__PURE__*/_jsx(\"textarea\",{value:form.paymentInstructions,onChange:e=>handleChange('paymentInstructions',e.target.value),placeholder:\"Additional payment instructions (e.g., 'Kindly be advised of the following instructions to be applied to EUR incoming payments...')\",rows:4,style:{width:'100%',padding:'8px',border:'1px solid #ccc',borderRadius:'4px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-actions\",children:[/*#__PURE__*/_jsx(Button,{label:\"Change Password\",icon:\"pi pi-key\",className:\"password-btn\",onClick:()=>setPasswordDialog(true)}),/*#__PURE__*/_jsx(Button,{label:\"Save\",loading:loading,onClick:saveProfile,className:\"save-btn\"})]})]}),/*#__PURE__*/_jsx(Dialog,{header:\"Change Password\",visible:passwordDialog,onHide:()=>setPasswordDialog(false),className:\"password-dialog\",style:{width:'400px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-form\",children:[passwordError&&/*#__PURE__*/_jsx(Message,{severity:\"error\",text:passwordError}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Current Password:\"}),/*#__PURE__*/_jsx(Password,{value:currentPassword,onChange:e=>setCurrentPassword(e.target.value),placeholder:\"Enter current password\",style:{width:'100%'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"New Password:\"}),/*#__PURE__*/_jsx(Password,{value:newPassword,onChange:e=>setNewPassword(e.target.value),placeholder:\"Enter new password\",style:{width:'100%'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm New Password:\"}),/*#__PURE__*/_jsx(Password,{value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),placeholder:\"Confirm new password\",style:{width:'100%'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-actions\",children:[/*#__PURE__*/_jsx(Button,{label:\"Cancel\",severity:\"secondary\",onClick:()=>setPasswordDialog(false),outlined:true}),/*#__PURE__*/_jsx(Button,{label:\"Change Password\",icon:\"pi pi-key\",onClick:changePassword,loading:changingPassword})]})]})})]});};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","Card","InputText","Button","Message","Dialog","Password","profileAPI","jsx","_jsx","jsxs","_jsxs","defaultProfile","companyName","fullName","addressLine","city","state","postalCode","country","phone","logoUrl","signatureUrl","swiftCode","iban","cardNumber","bankName","correspondentBank1","correspondentBank2","correspondentBank3","correspondentBank4","correspondentBank5","correspondentCountry1","correspondentCountry2","correspondentCountry3","correspondentCountry4","correspondentCountry5","correspondentSwift1","correspondentSwift2","correspondentSwift3","correspondentSwift4","correspondentSwift5","paymentInstructions","Profile","form","setForm","initialLoading","setInitialLoading","loading","setLoading","error","setError","success","setSuccess","uploadingLogo","setUploadingLogo","uploadingSignature","setUploadingSignature","passwordDialog","setPasswordDialog","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","passwordError","setPasswordError","changingPassword","setChangingPassword","isMobile","setIsMobile","res","get","_objectSpread","data","e","_e$response","_e$response$data","response","message","checkMobile","window","innerWidth","addEventListener","removeEventListener","handleChange","key","value","f","buildUpdatePayload","src","saveProfile","update","_e$response2","_e$response2$data","changePassword","length","fetch","method","headers","concat","localStorage","getItem","body","JSON","stringify","json","ok","uploadFile","file","type","formData","FormData","append","Error","url","handleFileUpload","setUploading","className","children","title","severity","text","onChange","target","accept","_e$target$files","files","_e$target$files2","placeholder","rows","style","width","padding","border","borderRadius","label","icon","onClick","header","visible","onHide","outlined"],"sources":["/home/nikjeremic/Desktop/uptiomio/src/components/Profile.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Card } from 'primereact/card';\nimport { InputText } from 'primereact/inputtext';\nimport { Button } from 'primereact/button';\nimport { Message } from 'primereact/message';\nimport { Dialog } from 'primereact/dialog';\nimport { Password } from 'primereact/password';\nimport { profileAPI } from '../services/api';\nimport './Profile.css';\n\n// Define a strong type for the profile document we edit\ntype UserProfile = {\n  userId?: string;\n  companyName: string;\n  fullName: string;\n  addressLine: string;\n  city: string;\n  state: string;\n  postalCode: string;\n  country: string;\n  phone: string;\n  logoUrl?: string;\n  signatureUrl?: string;\n  swiftCode?: string;\n  iban?: string;\n  cardNumber?: string;\n  // New payment instruction fields\n  bankName?: string;\n  // Correspondent banks (up to 5)\n  correspondentBank1?: string;\n  correspondentBank2?: string;\n  correspondentBank3?: string;\n  correspondentBank4?: string;\n  correspondentBank5?: string;\n  correspondentCountry1?: string;\n  correspondentCountry2?: string;\n  correspondentCountry3?: string;\n  correspondentCountry4?: string;\n  correspondentCountry5?: string;\n  correspondentSwift1?: string;\n  correspondentSwift2?: string;\n  correspondentSwift3?: string;\n  correspondentSwift4?: string;\n  correspondentSwift5?: string;\n  paymentInstructions?: string;\n  createdAt?: string;\n  updatedAt?: string;\n  _id?: string;\n};\n\nconst defaultProfile: UserProfile = {\n  companyName: '',\n  fullName: '',\n  addressLine: '',\n  city: '',\n  state: '',\n  postalCode: '',\n  country: '',\n  phone: '',\n  logoUrl: '',\n  signatureUrl: '',\n  swiftCode: '',\n  iban: '',\n  cardNumber: '',\n  // New payment instruction fields\n  bankName: '',\n  // Correspondent banks (up to 5)\n  correspondentBank1: '',\n  correspondentBank2: '',\n  correspondentBank3: '',\n  correspondentBank4: '',\n  correspondentBank5: '',\n  correspondentCountry1: '',\n  correspondentCountry2: '',\n  correspondentCountry3: '',\n  correspondentCountry4: '',\n  correspondentCountry5: '',\n  correspondentSwift1: '',\n  correspondentSwift2: '',\n  correspondentSwift3: '',\n  correspondentSwift4: '',\n  correspondentSwift5: '',\n  paymentInstructions: ''\n};\n\nconst Profile: React.FC = () => {\n  const [form, setForm] = useState<UserProfile>(defaultProfile);\n  const [initialLoading, setInitialLoading] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [uploadingLogo, setUploadingLogo] = useState(false);\n  const [uploadingSignature, setUploadingSignature] = useState(false);\n  const [passwordDialog, setPasswordDialog] = useState(false);\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [changingPassword, setChangingPassword] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await profileAPI.get();\n        setForm({ ...defaultProfile, ...(res.data || {}) });\n      } catch (e: any) {\n        setError(e?.response?.data?.message || 'Failed to load profile');\n      } finally {\n        setInitialLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  const handleChange = (key: keyof UserProfile, value: string) => {\n    setError('');\n    setSuccess('');\n    setForm((f) => ({ ...f, [key]: value } as UserProfile));\n  };\n\n  const buildUpdatePayload = (src: UserProfile) => {\n    // Only send editable fields; backend will upsert and set updatedAt\n    return {\n      companyName: src.companyName || '',\n      fullName: src.fullName || '',\n      addressLine: src.addressLine || '',\n      city: src.city || '',\n      state: src.state || '',\n      postalCode: src.postalCode || '',\n      country: src.country || '',\n      phone: src.phone || '',\n      logoUrl: src.logoUrl || '',\n      signatureUrl: src.signatureUrl || '',\n      swiftCode: src.swiftCode || '',\n      iban: src.iban || '',\n      cardNumber: src.cardNumber || '',\n      // New payment fields\n      bankName: src.bankName || '',\n      correspondentBank1: src.correspondentBank1 || '',\n      correspondentBank2: src.correspondentBank2 || '',\n      correspondentBank3: src.correspondentBank3 || '',\n      correspondentBank4: src.correspondentBank4 || '',\n      correspondentBank5: src.correspondentBank5 || '',\n      correspondentCountry1: src.correspondentCountry1 || '',\n      correspondentCountry2: src.correspondentCountry2 || '',\n      correspondentCountry3: src.correspondentCountry3 || '',\n      correspondentCountry4: src.correspondentCountry4 || '',\n      correspondentCountry5: src.correspondentCountry5 || '',\n      correspondentSwift1: src.correspondentSwift1 || '',\n      correspondentSwift2: src.correspondentSwift2 || '',\n      correspondentSwift3: src.correspondentSwift3 || '',\n      correspondentSwift4: src.correspondentSwift4 || '',\n      correspondentSwift5: src.correspondentSwift5 || '',\n      paymentInstructions: src.paymentInstructions || ''\n    };\n  };\n\n  const saveProfile = async () => {\n    setLoading(true); setError(''); setSuccess('');\n    try {\n      await profileAPI.update(buildUpdatePayload(form));\n      setSuccess('Profile updated successfully');\n    } catch (e: any) {\n      setError(e.response?.data?.message || 'Failed to update profile');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const changePassword = async () => {\n    setPasswordError('');\n    if (!currentPassword || !newPassword || !confirmPassword) {\n      setPasswordError('All fields are required');\n      return;\n    }\n    if (newPassword !== confirmPassword) {\n      setPasswordError('New passwords do not match');\n      return;\n    }\n    if (newPassword.length < 6) {\n      setPasswordError('New password must be at least 6 characters');\n      return;\n    }\n    \n    setChangingPassword(true);\n    try {\n      const response = await fetch('/api/profile/change-password', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ currentPassword, newPassword })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setSuccess('Password changed successfully');\n        setPasswordDialog(false);\n        setCurrentPassword('');\n        setNewPassword('');\n        setConfirmPassword('');\n      } else {\n        setPasswordError(data.message || 'Failed to change password');\n      }\n    } catch (e: any) {\n      setPasswordError('Failed to change password');\n    } finally {\n      setChangingPassword(false);\n    }\n  };\n\n  const uploadFile = async (file: File, type: 'logo' | 'signature') => {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('type', type);\n\n    try {\n      const response = await fetch('/api/upload', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: formData\n      });\n\n      if (!response.ok) {\n        throw new Error('Upload failed');\n      }\n\n      const data = await response.json();\n      return data.url;\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  const handleFileUpload = async (file: File, type: 'logo' | 'signature') => {\n    const setUploading = type === 'logo' ? setUploadingLogo : setUploadingSignature;\n    setUploading(true);\n    setError('');\n    setSuccess('');\n\n    try {\n      const url = await uploadFile(file, type);\n      const key = type === 'logo' ? 'logoUrl' : 'signatureUrl';\n      handleChange(key, url);\n      setSuccess(`${type === 'logo' ? 'Logo' : 'Signature'} uploaded successfully`);\n    } catch (e: any) {\n      setError(`Failed to upload ${type}: ${e.message}`);\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  if (initialLoading) {\n    return (\n      <div className=\"profile-loading\">\n        <i className=\"pi pi-spin pi-spinner\"></i>\n        <div>Loading profile...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"profile-container\">\n      <Card title=\"Profile Settings\" className=\"profile-card\">\n        {error && <Message severity=\"error\" text={error} />}\n        {success && <Message severity=\"success\" text={success} />}\n\n        <div className=\"form-section\">\n          <h3>Basic Information</h3>\n          <div className=\"form-grid-2\">\n            <div className=\"form-field\">\n              <label>Company Name</label>\n              <InputText\n                value={form.companyName}\n                onChange={(e) => handleChange('companyName', e.target.value)}\n              />\n            </div>\n            <div className=\"form-field\">\n              <label>Full Name</label>\n              <InputText\n                value={form.fullName}\n                onChange={(e) => handleChange('fullName', e.target.value)}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form-section\">\n          <h3>Address Information</h3>\n          <div className=\"form-field\">\n            <label>Address Line</label>\n            <InputText\n              value={form.addressLine}\n              onChange={(e) => handleChange('addressLine', e.target.value)}\n            />\n          </div>\n\n          <div className=\"form-grid-3\">\n            <div className=\"form-field\">\n              <label>City</label>\n              <InputText\n                value={form.city}\n                onChange={(e) => handleChange('city', e.target.value)}\n              />\n            </div>\n            <div className=\"form-field\">\n              <label>State</label>\n              <InputText\n                value={form.state}\n                onChange={(e) => handleChange('state', e.target.value)}\n              />\n            </div>\n            <div className=\"form-field\">\n              <label>Postal Code</label>\n              <InputText\n                value={form.postalCode}\n                onChange={(e) => handleChange('postalCode', e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-grid-2\">\n            <div className=\"form-field\">\n              <label>Country</label>\n              <InputText\n                value={form.country}\n                onChange={(e) => handleChange('country', e.target.value)}\n              />\n            </div>\n            <div className=\"form-field\">\n              <label>Phone</label>\n              <InputText\n                value={form.phone}\n                onChange={(e) => handleChange('phone', e.target.value)}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form-section\">\n          <h3>Media & Files</h3>\n          <div className=\"form-grid-2\">\n            <div className=\"form-field\">\n              <label>Logo URL</label>\n              <InputText\n                value={form.logoUrl}\n                onChange={(e) => handleChange('logoUrl', e.target.value)}\n              />\n              <div className=\"file-upload\">\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={(e) => {\n                    const file = e.target.files?.[0];\n                    if (file) handleFileUpload(file, 'logo');\n                  }}\n                  className=\"file-input\"\n                />\n                {uploadingLogo && <div className=\"upload-status\">Uploading logo...</div>}\n              </div>\n            </div>\n            <div className=\"form-field\">\n              <label>Signature URL</label>\n              <InputText\n                value={form.signatureUrl}\n                onChange={(e) => handleChange('signatureUrl', e.target.value)}\n              />\n              <div className=\"file-upload\">\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={(e) => {\n                    const file = e.target.files?.[0];\n                    if (file) handleFileUpload(file, 'signature');\n                  }}\n                  className=\"file-input\"\n                />\n                {uploadingSignature && <div className=\"upload-status\">Uploading signature...</div>}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form-section\">\n          <h3>Payment Information</h3>\n          <div className=\"form-grid-3\">\n            <div className=\"form-field\">\n              <label>Swift Code</label>\n              <InputText\n                value={form.swiftCode}\n                onChange={(e) => handleChange('swiftCode', e.target.value)}\n                placeholder=\"SWIFT code for international transfers\"\n              />\n            </div>\n            <div className=\"form-field\">\n              <label>IBAN</label>\n              <InputText\n                value={form.iban}\n                onChange={(e) => handleChange('iban', e.target.value)}\n                placeholder=\"International Bank Account Number\"\n              />\n            </div>\n            <div className=\"form-field\">\n              <label>Card Number</label>\n              <InputText\n                value={form.cardNumber}\n                onChange={(e) => handleChange('cardNumber', e.target.value)}\n                placeholder=\"Card number for payments\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"form-grid-1\">\n            <div className=\"form-field\">\n              <label>Beneficiary Bank</label>\n              <InputText\n                value={form.bankName}\n                onChange={(e) => handleChange('bankName', e.target.value)}\n                placeholder=\"e.g., Raiffeisen banka ad Beograd\"\n              />\n            </div>\n          </div>\n\n          <div className=\"form-section-sub\">\n            <h4>Correspondent Banks (up to 5)</h4>\n            \n            {/* Correspondent Bank 1 */}\n            <div className=\"correspondent-bank-group\">\n              <h5>Correspondent Bank 1</h5>\n              <div className=\"form-grid-3\">\n                <div className=\"form-field\">\n                  <label>Bank Name</label>\n                  <InputText\n                    value={form.correspondentBank1}\n                    onChange={(e) => handleChange('correspondentBank1', e.target.value)}\n                    placeholder=\"e.g., Raiffeisen Bank International AG\"\n                  />\n                </div>\n                <div className=\"form-field\">\n                  <label>SWIFT/BIC</label>\n                  <InputText\n                    value={form.correspondentSwift1}\n                    onChange={(e) => handleChange('correspondentSwift1', e.target.value)}\n                    placeholder=\"e.g., RZBAATWW\"\n                  />\n                </div>\n                <div className=\"form-field\">\n                  <label>Country</label>\n                  <InputText\n                    value={form.correspondentCountry1}\n                    onChange={(e) => handleChange('correspondentCountry1', e.target.value)}\n                    placeholder=\"e.g., Austria\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Correspondent Bank 2 */}\n            <div className=\"correspondent-bank-group\">\n              <h5>Correspondent Bank 2</h5>\n              <div className=\"form-grid-3\">\n                <div className=\"form-field\">\n                  <label>Bank Name</label>\n                  <InputText\n                    value={form.correspondentBank2}\n                    onChange={(e) => handleChange('correspondentBank2', e.target.value)}\n                    placeholder=\"e.g., Deutsche Bank AG\"\n                  />\n                </div>\n                <div className=\"form-field\">\n                  <label>SWIFT/BIC</label>\n                  <InputText\n                    value={form.correspondentSwift2}\n                    onChange={(e) => handleChange('correspondentSwift2', e.target.value)}\n                    placeholder=\"e.g., DEUTDEFF\"\n                  />\n                </div>\n                <div className=\"form-field\">\n                  <label>Country</label>\n                  <InputText\n                    value={form.correspondentCountry2}\n                    onChange={(e) => handleChange('correspondentCountry2', e.target.value)}\n                    placeholder=\"e.g., Germany\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Correspondent Bank 3 */}\n            <div className=\"correspondent-bank-group\">\n              <h5>Correspondent Bank 3</h5>\n              <div className=\"form-grid-3\">\n                <div className=\"form-field\">\n                  <label>Bank Name</label>\n                  <InputText\n                    value={form.correspondentBank3}\n                    onChange={(e) => handleChange('correspondentBank3', e.target.value)}\n                    placeholder=\"Bank name\"\n                  />\n                </div>\n                <div className=\"form-field\">\n                  <label>SWIFT/BIC</label>\n                  <InputText\n                    value={form.correspondentSwift3}\n                    onChange={(e) => handleChange('correspondentSwift3', e.target.value)}\n                    placeholder=\"SWIFT code\"\n                  />\n                </div>\n                <div className=\"form-field\">\n                  <label>Country</label>\n                  <InputText\n                    value={form.correspondentCountry3}\n                    onChange={(e) => handleChange('correspondentCountry3', e.target.value)}\n                    placeholder=\"Country\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Correspondent Bank 4 */}\n            <div className=\"correspondent-bank-group\">\n              <h5>Correspondent Bank 4</h5>\n              <div className=\"form-grid-3\">\n                <div className=\"form-field\">\n                  <label>Bank Name</label>\n                  <InputText\n                    value={form.correspondentBank4}\n                    onChange={(e) => handleChange('correspondentBank4', e.target.value)}\n                    placeholder=\"Bank name\"\n                  />\n                </div>\n                <div className=\"form-field\">\n                  <label>SWIFT/BIC</label>\n                  <InputText\n                    value={form.correspondentSwift4}\n                    onChange={(e) => handleChange('correspondentSwift4', e.target.value)}\n                    placeholder=\"SWIFT code\"\n                  />\n                </div>\n                <div className=\"form-field\">\n                  <label>Country</label>\n                  <InputText\n                    value={form.correspondentCountry4}\n                    onChange={(e) => handleChange('correspondentCountry4', e.target.value)}\n                    placeholder=\"Country\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Correspondent Bank 5 */}\n            <div className=\"correspondent-bank-group\">\n              <h5>Correspondent Bank 5</h5>\n              <div className=\"form-grid-3\">\n                <div className=\"form-field\">\n                  <label>Bank Name</label>\n                  <InputText\n                    value={form.correspondentBank5}\n                    onChange={(e) => handleChange('correspondentBank5', e.target.value)}\n                    placeholder=\"Bank name\"\n                  />\n                </div>\n                <div className=\"form-field\">\n                  <label>SWIFT/BIC</label>\n                  <InputText\n                    value={form.correspondentSwift5}\n                    onChange={(e) => handleChange('correspondentSwift5', e.target.value)}\n                    placeholder=\"SWIFT code\"\n                  />\n                </div>\n                <div className=\"form-field\">\n                  <label>Country</label>\n                  <InputText\n                    value={form.correspondentCountry5}\n                    onChange={(e) => handleChange('correspondentCountry5', e.target.value)}\n                    placeholder=\"Country\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"form-field\">\n            <label>Payment Instructions</label>\n            <textarea\n              value={form.paymentInstructions}\n              onChange={(e) => handleChange('paymentInstructions', e.target.value)}\n              placeholder=\"Additional payment instructions (e.g., 'Kindly be advised of the following instructions to be applied to EUR incoming payments...')\"\n              rows={4}\n              style={{ width: '100%', padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}\n            />\n          </div>\n        </div>\n\n        <div className=\"profile-actions\">\n          <Button \n            label=\"Change Password\" \n            icon=\"pi pi-key\" \n            className=\"password-btn\"\n            onClick={() => setPasswordDialog(true)}\n          />\n          <Button \n            label=\"Save\" \n            loading={loading} \n            onClick={saveProfile}\n            className=\"save-btn\"\n          />\n        </div>\n      </Card>\n\n      <Dialog \n        header=\"Change Password\"\n        visible={passwordDialog}\n        onHide={() => setPasswordDialog(false)}\n        className=\"password-dialog\"\n        style={{ width: '400px' }}\n      >\n        <div className=\"dialog-form\">\n          {passwordError && <Message severity=\"error\" text={passwordError} />}\n          \n          <div className=\"dialog-field\">\n            <label>Current Password:</label>\n            <Password \n              value={currentPassword}\n              onChange={(e) => setCurrentPassword(e.target.value)}\n              placeholder=\"Enter current password\"\n              style={{ width: '100%' }}\n            />\n          </div>\n          \n          <div className=\"dialog-field\">\n            <label>New Password:</label>\n            <Password \n              value={newPassword}\n              onChange={(e) => setNewPassword(e.target.value)}\n              placeholder=\"Enter new password\"\n              style={{ width: '100%' }}\n            />\n          </div>\n          \n          <div className=\"dialog-field\">\n            <label>Confirm New Password:</label>\n            <Password \n              value={confirmPassword}\n              onChange={(e) => setConfirmPassword(e.target.value)}\n              placeholder=\"Confirm new password\"\n              style={{ width: '100%' }}\n            />\n          </div>\n          \n          <div className=\"dialog-actions\">\n            <Button \n              label=\"Cancel\" \n              severity=\"secondary\" \n              onClick={() => setPasswordDialog(false)}\n              outlined \n            />\n            <Button \n              label=\"Change Password\" \n              icon=\"pi pi-key\"\n              onClick={changePassword}\n              loading={changingPassword}\n            />\n          </div>\n        </div>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}