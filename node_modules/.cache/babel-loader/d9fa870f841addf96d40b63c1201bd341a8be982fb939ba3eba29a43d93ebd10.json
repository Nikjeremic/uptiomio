{"ast":null,"code":"var _jsxFileName = \"/home/nikjeremic/Desktop/paymentService/uptiomio/src/components/InvoiceList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { Button } from 'primereact/button';\nimport { Tag } from 'primereact/tag';\nimport { Dialog } from 'primereact/dialog';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Message } from 'primereact/message';\nimport { Card } from 'primereact/card';\nimport { invoiceAPI } from '../services/api';\nimport './InvoiceList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InvoiceList = ({\n  isAdmin\n}) => {\n  _s();\n  const [invoices, setInvoices] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showPaymentDialog, setShowPaymentDialog] = useState(false);\n  const [selectedInvoice, setSelectedInvoice] = useState(null);\n  const [paymentMethod, setPaymentMethod] = useState('');\n  const [error, setError] = useState('');\n  const [deleteDialog, setDeleteDialog] = useState({\n    open: false,\n    invoice: null\n  });\n  const [deleting, setDeleting] = useState(false);\n  const [search, setSearch] = useState('');\n  const paymentMethods = [{\n    label: 'Payoneer',\n    value: 'Payoneer'\n  }, {\n    label: 'Western Union',\n    value: 'Western Union'\n  }, {\n    label: 'Zelle',\n    value: 'Zelle'\n  }, {\n    label: 'Credit Card',\n    value: 'Credit Card'\n  }, {\n    label: 'Authorize.net',\n    value: 'Authorize.net'\n  }, {\n    label: 'Paypal',\n    value: 'Paypal'\n  }];\n  const fetchInvoices = useCallback(async q => {\n    try {\n      setLoading(true);\n      const response = isAdmin ? await invoiceAPI.getAllInvoices(q) : await invoiceAPI.getMyInvoices(q);\n      setInvoices(response.data);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to load invoices');\n    } finally {\n      setLoading(false);\n    }\n  }, [isAdmin]);\n  useEffect(() => {\n    fetchInvoices();\n  }, [fetchInvoices]);\n  useEffect(() => {\n    const t = setTimeout(() => fetchInvoices(search.trim() || undefined), 300);\n    return () => clearTimeout(t);\n  }, [search, fetchInvoices]);\n  const handlePayInvoice = invoice => {\n    setSelectedInvoice(invoice);\n    setPaymentMethod('');\n    setShowPaymentDialog(true);\n  };\n  const confirmPayment = async () => {\n    if (!selectedInvoice || !paymentMethod) return;\n    try {\n      await invoiceAPI.markAsPaid(selectedInvoice._id, paymentMethod);\n      setShowPaymentDialog(false);\n      fetchInvoices(search.trim() || undefined);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Failed to mark as paid');\n    }\n  };\n  const askDeleteInvoice = invoice => {\n    setDeleteDialog({\n      open: true,\n      invoice\n    });\n  };\n  const confirmDeleteInvoice = async () => {\n    if (!deleteDialog.invoice) return;\n    setDeleting(true);\n    try {\n      await invoiceAPI.deleteById(deleteDialog.invoice._id);\n      setDeleteDialog({\n        open: false,\n        invoice: null\n      });\n      await fetchInvoices(search.trim() || undefined);\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Failed to delete invoice');\n    } finally {\n      setDeleting(false);\n    }\n  };\n  const formatCurrency = (amount, currency = 'USD') => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency\n    }).format(amount);\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US');\n  };\n  const statusBodyTemplate = rowData => {\n    return /*#__PURE__*/_jsxDEV(Tag, {\n      value: rowData.isPaid ? 'Paid' : 'Unpaid',\n      severity: rowData.isPaid ? 'success' : 'danger',\n      className: \"status-tag\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this);\n  };\n  const paymentMethodBodyTemplate = rowData => {\n    if (!rowData.paymentMethod) return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-500\",\n      children: \"-\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 40\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-method\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: `pi ${rowData.paymentMethod === 'Payoneer' ? 'pi-credit-card' : 'pi-send'}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: rowData.paymentMethod\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this);\n  };\n  const actionBodyTemplate = rowData => {\n    const paidColor = '#22c55e'; // green\n    const grayColor = '#9ca3af'; // gray\n    const iconBtnClass = 'p-button-rounded p-button-text p-button-plain p-button-sm';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        icon: \"pi pi-eye\",\n        className: iconBtnClass,\n        onClick: () => {\n          const base = window.location.origin + window.location.pathname;\n          const url = `${base}?invoiceId=${rowData._id}`;\n          window.open(url, '_blank');\n        },\n        \"aria-label\": \"View\",\n        tooltip: \"View\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        icon: \"pi pi-check-circle\",\n        className: iconBtnClass,\n        onClick: () => !rowData.isPaid && handlePayInvoice(rowData),\n        \"aria-label\": rowData.isPaid ? 'Paid' : 'Mark as paid',\n        tooltip: rowData.isPaid ? 'Paid' : 'Mark as paid',\n        style: {\n          color: rowData.isPaid ? paidColor : grayColor\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), isAdmin && /*#__PURE__*/_jsxDEV(Button, {\n        icon: \"pi pi-trash\",\n        className: iconBtnClass,\n        onClick: () => setDeleteDialog({\n          open: true,\n          invoice: rowData\n        }),\n        \"aria-label\": \"Delete\",\n        tooltip: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this);\n  };\n  const amountBodyTemplate = rowData => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"amount-cell\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"amount-value\",\n        children: formatCurrency(rowData.amount, rowData.currency || 'USD')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this);\n  };\n  const dueDateBodyTemplate = rowData => {\n    const dueDate = new Date(rowData.dueDate);\n    const today = new Date();\n    const isOverdue = dueDate < today && !rowData.isPaid;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `due-date ${isOverdue ? 'overdue' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"pi pi-calendar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: formatDate(rowData.dueDate)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), isOverdue && /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"pi pi-exclamation-triangle text-red-500 ml-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"invoice-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"list-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"pi pi-file-o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), isAdmin ? 'All invoices' : 'My invoices']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search by invoice ID, client name, email\",\n            value: search,\n            onChange: e => setSearch(e.target.value),\n            style: {\n              width: '100%',\n              maxWidth: 360\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"list-subtitle\",\n          children: [invoices.length, \" total\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Refresh\",\n        icon: \"pi pi-refresh\",\n        className: \"refresh-button\",\n        onClick: () => fetchInvoices(search.trim() || undefined)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Message, {\n      severity: \"error\",\n      text: error,\n      className: \"error-message\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"invoices-card\",\n      children: /*#__PURE__*/_jsxDEV(DataTable, {\n        value: invoices,\n        loading: loading,\n        paginator: true,\n        rows: 10,\n        rowsPerPageOptions: [5, 10, 25],\n        emptyMessage: \"No invoices\",\n        className: \"invoices-table\",\n        paginatorTemplate: \"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\",\n        currentPageReportTemplate: \"Showing {first} to {last} of {totalRecords}\",\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          field: \"invoiceNumberStr\",\n          header: \"Invoice ID\",\n          className: \"client-column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"clientName\",\n          header: \"Client\",\n          className: \"client-column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"clientEmail\",\n          header: \"Email\",\n          className: \"email-column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"amount\",\n          header: \"Amount\",\n          body: amountBodyTemplate,\n          className: \"amount-column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"dueDate\",\n          header: \"Due date\",\n          body: dueDateBodyTemplate,\n          className: \"due-date-column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"isPaid\",\n          header: \"Status\",\n          body: statusBodyTemplate,\n          className: \"status-column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"paymentMethod\",\n          header: \"Payment method\",\n          body: paymentMethodBodyTemplate,\n          className: \"payment-column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          header: \"Actions\",\n          body: actionBodyTemplate,\n          className: \"action-column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      header: \"Mark as paid\",\n      visible: showPaymentDialog,\n      style: {\n        width: '25rem'\n      },\n      onHide: () => setShowPaymentDialog(false),\n      className: \"payment-dialog\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"paymentMethod\",\n            className: \"field-label\",\n            children: \"Payment method\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n            id: \"paymentMethod\",\n            value: paymentMethod,\n            options: paymentMethods,\n            onChange: e => setPaymentMethod(e.value),\n            className: \"field-input\",\n            placeholder: \"Choose method\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dialog-actions\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            label: \"Cancel\",\n            severity: \"secondary\",\n            onClick: () => setShowPaymentDialog(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            label: \"Confirm\",\n            onClick: confirmPayment,\n            disabled: !paymentMethod\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      header: deleteDialog.invoice ? `Delete invoice` : 'Delete invoice',\n      visible: deleteDialog.open,\n      style: {\n        width: '28rem'\n      },\n      onHide: () => setDeleteDialog({\n        open: false,\n        invoice: null\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Are you sure you want to delete this invoice?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end',\n          gap: 8,\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          label: \"Cancel\",\n          severity: \"secondary\",\n          onClick: () => setDeleteDialog({\n            open: false,\n            invoice: null\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Delete\",\n          icon: \"pi pi-trash\",\n          severity: \"danger\",\n          loading: deleting,\n          onClick: () => deleteDialog.invoice && invoiceAPI.deleteById(deleteDialog.invoice._id).then(() => {\n            setDeleteDialog({\n              open: false,\n              invoice: null\n            });\n            fetchInvoices(search.trim() || undefined);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n};\n_s(InvoiceList, \"OgSNZZvu1osSp2yeJxhAp5TciOs=\");\n_c = InvoiceList;\nexport default InvoiceList;\nvar _c;\n$RefreshReg$(_c, \"InvoiceList\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","DataTable","Column","Button","Tag","Dialog","Dropdown","Message","Card","invoiceAPI","jsxDEV","_jsxDEV","InvoiceList","isAdmin","_s","invoices","setInvoices","loading","setLoading","showPaymentDialog","setShowPaymentDialog","selectedInvoice","setSelectedInvoice","paymentMethod","setPaymentMethod","error","setError","deleteDialog","setDeleteDialog","open","invoice","deleting","setDeleting","search","setSearch","paymentMethods","label","value","fetchInvoices","q","response","getAllInvoices","getMyInvoices","data","_error$response","_error$response$data","message","t","setTimeout","trim","undefined","clearTimeout","handlePayInvoice","confirmPayment","markAsPaid","_id","_error$response2","_error$response2$data","askDeleteInvoice","confirmDeleteInvoice","deleteById","_error$response3","_error$response3$data","formatCurrency","amount","currency","Intl","NumberFormat","style","format","formatDate","dateString","Date","toLocaleDateString","statusBodyTemplate","rowData","isPaid","severity","className","fileName","_jsxFileName","lineNumber","columnNumber","paymentMethodBodyTemplate","children","actionBodyTemplate","paidColor","grayColor","iconBtnClass","display","gap","icon","onClick","base","window","location","origin","pathname","url","tooltip","color","amountBodyTemplate","dueDateBodyTemplate","dueDate","today","isOverdue","marginTop","type","placeholder","onChange","e","target","width","maxWidth","length","text","paginator","rows","rowsPerPageOptions","emptyMessage","paginatorTemplate","currentPageReportTemplate","field","header","body","visible","onHide","htmlFor","id","options","disabled","justifyContent","then","_c","$RefreshReg$"],"sources":["/home/nikjeremic/Desktop/paymentService/uptiomio/src/components/InvoiceList.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { Button } from 'primereact/button';\nimport { Tag } from 'primereact/tag';\nimport { Dialog } from 'primereact/dialog';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Message } from 'primereact/message';\nimport { Card } from 'primereact/card';\nimport { invoiceAPI } from '../services/api';\nimport { Invoice } from '../types';\nimport './InvoiceList.css';\n\ninterface InvoiceListProps {\n  isAdmin: boolean;\n}\n\nconst InvoiceList: React.FC<InvoiceListProps> = ({ isAdmin }) => {\n  const [invoices, setInvoices] = useState<Invoice[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showPaymentDialog, setShowPaymentDialog] = useState(false);\n  const [selectedInvoice, setSelectedInvoice] = useState<Invoice | null>(null);\n  const [paymentMethod, setPaymentMethod] = useState('');\n  const [error, setError] = useState('');\n  const [deleteDialog, setDeleteDialog] = useState<{ open: boolean; invoice: Invoice | null }>({ open: false, invoice: null });\n  const [deleting, setDeleting] = useState(false);\n  const [search, setSearch] = useState('');\n\n  const paymentMethods = [\n    { label: 'Payoneer', value: 'Payoneer' },\n    { label: 'Western Union', value: 'Western Union' },\n    { label: 'Zelle', value: 'Zelle' },\n    { label: 'Credit Card', value: 'Credit Card' },\n    { label: 'Authorize.net', value: 'Authorize.net' },\n    { label: 'Paypal', value: 'Paypal' }\n  ];\n\n  const fetchInvoices = useCallback(async (q?: string) => {\n    try {\n      setLoading(true);\n      const response = isAdmin ? await invoiceAPI.getAllInvoices(q) : await invoiceAPI.getMyInvoices(q);\n      setInvoices(response.data);\n    } catch (error: any) {\n      setError(error.response?.data?.message || 'Failed to load invoices');\n    } finally {\n      setLoading(false);\n    }\n  }, [isAdmin]);\n\n  useEffect(() => {\n    fetchInvoices();\n  }, [fetchInvoices]);\n\n  useEffect(() => {\n    const t = setTimeout(() => fetchInvoices(search.trim() || undefined), 300);\n    return () => clearTimeout(t);\n  }, [search, fetchInvoices]);\n\n  const handlePayInvoice = (invoice: Invoice) => {\n    setSelectedInvoice(invoice);\n    setPaymentMethod('');\n    setShowPaymentDialog(true);\n  };\n\n  const confirmPayment = async () => {\n    if (!selectedInvoice || !paymentMethod) return;\n\n    try {\n      await invoiceAPI.markAsPaid(selectedInvoice._id, paymentMethod);\n      setShowPaymentDialog(false);\n      fetchInvoices(search.trim() || undefined);\n    } catch (error: any) {\n      setError(error.response?.data?.message || 'Failed to mark as paid');\n    }\n  };\n\n  const askDeleteInvoice = (invoice: Invoice) => {\n    setDeleteDialog({ open: true, invoice });\n  };\n\n  const confirmDeleteInvoice = async () => {\n    if (!deleteDialog.invoice) return;\n    setDeleting(true);\n    try {\n      await invoiceAPI.deleteById(deleteDialog.invoice._id);\n      setDeleteDialog({ open: false, invoice: null });\n      await fetchInvoices(search.trim() || undefined);\n    } catch (error: any) {\n      setError(error.response?.data?.message || 'Failed to delete invoice');\n    } finally {\n      setDeleting(false);\n    }\n  };\n\n  const formatCurrency = (amount: number, currency: string = 'USD') => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency\n    }).format(amount);\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US');\n  };\n\n  const statusBodyTemplate = (rowData: Invoice) => {\n    return (\n      <Tag\n        value={rowData.isPaid ? 'Paid' : 'Unpaid'}\n        severity={rowData.isPaid ? 'success' : 'danger'}\n        className=\"status-tag\"\n      />\n    );\n  };\n\n  const paymentMethodBodyTemplate = (rowData: Invoice) => {\n    if (!rowData.paymentMethod) return <span className=\"text-500\">-</span>;\n    return (\n      <div className=\"payment-method\">\n        <i className={`pi ${rowData.paymentMethod === 'Payoneer' ? 'pi-credit-card' : 'pi-send'}`}></i>\n        <span>{rowData.paymentMethod}</span>\n      </div>\n    );\n  };\n\n  const actionBodyTemplate = (rowData: Invoice) => {\n    const paidColor = '#22c55e'; // green\n    const grayColor = '#9ca3af'; // gray\n    const iconBtnClass = 'p-button-rounded p-button-text p-button-plain p-button-sm';\n\n    return (\n      <div style={{ display: 'flex', gap: 4 }}>\n        <Button\n          icon=\"pi pi-eye\"\n          className={iconBtnClass}\n          onClick={() => {\n            const base = window.location.origin + window.location.pathname;\n            const url = `${base}?invoiceId=${rowData._id}`;\n            window.open(url, '_blank');\n          }}\n          aria-label=\"View\"\n          tooltip=\"View\"\n        />\n        <Button\n          icon=\"pi pi-check-circle\"\n          className={iconBtnClass}\n          onClick={() => !rowData.isPaid && handlePayInvoice(rowData)}\n          aria-label={rowData.isPaid ? 'Paid' : 'Mark as paid'}\n          tooltip={rowData.isPaid ? 'Paid' : 'Mark as paid'}\n          style={{ color: rowData.isPaid ? paidColor : grayColor }}\n        />\n        {isAdmin && (\n          <Button\n            icon=\"pi pi-trash\"\n            className={iconBtnClass}\n            onClick={() => setDeleteDialog({ open: true, invoice: rowData })}\n            aria-label=\"Delete\"\n            tooltip=\"Delete\"\n          />\n        )}\n      </div>\n    );\n  };\n\n  const amountBodyTemplate = (rowData: Invoice) => {\n    return (\n      <div className=\"amount-cell\">\n        <span className=\"amount-value\">{formatCurrency(rowData.amount, (rowData as any).currency || 'USD')}</span>\n      </div>\n    );\n  };\n\n  const dueDateBodyTemplate = (rowData: Invoice) => {\n    const dueDate = new Date(rowData.dueDate);\n    const today = new Date();\n    const isOverdue = dueDate < today && !rowData.isPaid;\n    \n    return (\n      <div className={`due-date ${isOverdue ? 'overdue' : ''}`}>\n        <i className=\"pi pi-calendar\"></i>\n        <span>{formatDate(rowData.dueDate)}</span>\n        {isOverdue && <i className=\"pi pi-exclamation-triangle text-red-500 ml-2\"></i>}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"invoice-list-container\">\n      <div className=\"list-header\">\n        <div className=\"header-info\">\n          <h2 className=\"list-title\">\n            <i className=\"pi pi-file-o\"></i>\n            {isAdmin ? 'All invoices' : 'My invoices'}\n          </h2>\n          <div style={{ marginTop: 8 }}>\n            <input\n              type=\"text\"\n              placeholder=\"Search by invoice ID, client name, email\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              style={{ width: '100%', maxWidth: 360 }}\n            />\n          </div>\n          <p className=\"list-subtitle\">\n            {invoices.length} total\n          </p>\n        </div>\n        <Button\n          label=\"Refresh\"\n          icon=\"pi pi-refresh\"\n          className=\"refresh-button\"\n          onClick={() => fetchInvoices(search.trim() || undefined)}\n        />\n      </div>\n\n      {error && (\n        <Message severity=\"error\" text={error} className=\"error-message\" />\n      )}\n\n      <Card className=\"invoices-card\">\n        <DataTable\n          value={invoices}\n          loading={loading}\n          paginator\n          rows={10}\n          rowsPerPageOptions={[5, 10, 25]}\n          emptyMessage=\"No invoices\"\n          className=\"invoices-table\"\n          paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\"\n          currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords}\"\n        >\n          <Column field=\"invoiceNumberStr\" header=\"Invoice ID\" className=\"client-column\" />\n          <Column field=\"clientName\" header=\"Client\" className=\"client-column\" />\n          <Column field=\"clientEmail\" header=\"Email\" className=\"email-column\" />\n          <Column field=\"amount\" header=\"Amount\" body={amountBodyTemplate} className=\"amount-column\" />\n          <Column field=\"dueDate\" header=\"Due date\" body={dueDateBodyTemplate} className=\"due-date-column\" />\n          <Column field=\"isPaid\" header=\"Status\" body={statusBodyTemplate} className=\"status-column\" />\n          <Column field=\"paymentMethod\" header=\"Payment method\" body={paymentMethodBodyTemplate} className=\"payment-column\" />\n          <Column header=\"Actions\" body={actionBodyTemplate} className=\"action-column\" />\n        </DataTable>\n      </Card>\n\n      <Dialog\n        header=\"Mark as paid\"\n        visible={showPaymentDialog}\n        style={{ width: '25rem' }}\n        onHide={() => setShowPaymentDialog(false)}\n        className=\"payment-dialog\"\n      >\n        <div className=\"payment-form\">\n          <div className=\"field\">\n            <label htmlFor=\"paymentMethod\" className=\"field-label\">Payment method</label>\n            <Dropdown\n              id=\"paymentMethod\"\n              value={paymentMethod}\n              options={paymentMethods}\n              onChange={(e) => setPaymentMethod(e.value)}\n              className=\"field-input\"\n              placeholder=\"Choose method\"\n            />\n          </div>\n          <div className=\"dialog-actions\">\n            <Button\n              label=\"Cancel\"\n              severity=\"secondary\"\n              onClick={() => setShowPaymentDialog(false)}\n            />\n            <Button\n              label=\"Confirm\"\n              onClick={confirmPayment}\n              disabled={!paymentMethod}\n            />\n          </div>\n        </div>\n      </Dialog>\n\n      <Dialog\n        header={deleteDialog.invoice ? `Delete invoice` : 'Delete invoice'}\n        visible={deleteDialog.open}\n        style={{ width: '28rem' }}\n        onHide={() => setDeleteDialog({ open: false, invoice: null })}\n      >\n        <p>Are you sure you want to delete this invoice?</p>\n        <div style={{ display: 'flex', justifyContent: 'flex-end', gap: 8, marginTop: 12 }}>\n          <Button label=\"Cancel\" severity=\"secondary\" onClick={() => setDeleteDialog({ open: false, invoice: null })} />\n          <Button label=\"Delete\" icon=\"pi pi-trash\" severity=\"danger\" loading={deleting} onClick={() => (deleteDialog.invoice && invoiceAPI.deleteById(deleteDialog.invoice._id).then(() => { setDeleteDialog({ open: false, invoice: null }); fetchInvoices(search.trim() || undefined); }))} />\n        </div>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default InvoiceList;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,SAASC,SAAS,QAAQ,sBAAsB;AAChD,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,SAASC,GAAG,QAAQ,gBAAgB;AACpC,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,SAASC,QAAQ,QAAQ,qBAAqB;AAC9C,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,IAAI,QAAQ,iBAAiB;AACtC,SAASC,UAAU,QAAQ,iBAAiB;AAE5C,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAM3B,MAAMC,WAAuC,GAAGA,CAAC;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAC/D,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAY,EAAE,CAAC;EACvD,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACqB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAACuB,eAAe,EAAEC,kBAAkB,CAAC,GAAGxB,QAAQ,CAAiB,IAAI,CAAC;EAC5E,MAAM,CAACyB,aAAa,EAAEC,gBAAgB,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAAC2B,KAAK,EAAEC,QAAQ,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC6B,YAAY,EAAEC,eAAe,CAAC,GAAG9B,QAAQ,CAA6C;IAAE+B,IAAI,EAAE,KAAK;IAAEC,OAAO,EAAE;EAAK,CAAC,CAAC;EAC5H,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGlC,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACmC,MAAM,EAAEC,SAAS,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EAExC,MAAMqC,cAAc,GAAG,CACrB;IAAEC,KAAK,EAAE,UAAU;IAAEC,KAAK,EAAE;EAAW,CAAC,EACxC;IAAED,KAAK,EAAE,eAAe;IAAEC,KAAK,EAAE;EAAgB,CAAC,EAClD;IAAED,KAAK,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAQ,CAAC,EAClC;IAAED,KAAK,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAc,CAAC,EAC9C;IAAED,KAAK,EAAE,eAAe;IAAEC,KAAK,EAAE;EAAgB,CAAC,EAClD;IAAED,KAAK,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAS,CAAC,CACrC;EAED,MAAMC,aAAa,GAAGtC,WAAW,CAAC,MAAOuC,CAAU,IAAK;IACtD,IAAI;MACFrB,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMsB,QAAQ,GAAG3B,OAAO,GAAG,MAAMJ,UAAU,CAACgC,cAAc,CAACF,CAAC,CAAC,GAAG,MAAM9B,UAAU,CAACiC,aAAa,CAACH,CAAC,CAAC;MACjGvB,WAAW,CAACwB,QAAQ,CAACG,IAAI,CAAC;IAC5B,CAAC,CAAC,OAAOlB,KAAU,EAAE;MAAA,IAAAmB,eAAA,EAAAC,oBAAA;MACnBnB,QAAQ,CAAC,EAAAkB,eAAA,GAAAnB,KAAK,CAACe,QAAQ,cAAAI,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBD,IAAI,cAAAE,oBAAA,uBAApBA,oBAAA,CAAsBC,OAAO,KAAI,yBAAyB,CAAC;IACtE,CAAC,SAAS;MACR5B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACL,OAAO,CAAC,CAAC;EAEbd,SAAS,CAAC,MAAM;IACduC,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnBvC,SAAS,CAAC,MAAM;IACd,MAAMgD,CAAC,GAAGC,UAAU,CAAC,MAAMV,aAAa,CAACL,MAAM,CAACgB,IAAI,CAAC,CAAC,IAAIC,SAAS,CAAC,EAAE,GAAG,CAAC;IAC1E,OAAO,MAAMC,YAAY,CAACJ,CAAC,CAAC;EAC9B,CAAC,EAAE,CAACd,MAAM,EAAEK,aAAa,CAAC,CAAC;EAE3B,MAAMc,gBAAgB,GAAItB,OAAgB,IAAK;IAC7CR,kBAAkB,CAACQ,OAAO,CAAC;IAC3BN,gBAAgB,CAAC,EAAE,CAAC;IACpBJ,oBAAoB,CAAC,IAAI,CAAC;EAC5B,CAAC;EAED,MAAMiC,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI,CAAChC,eAAe,IAAI,CAACE,aAAa,EAAE;IAExC,IAAI;MACF,MAAMd,UAAU,CAAC6C,UAAU,CAACjC,eAAe,CAACkC,GAAG,EAAEhC,aAAa,CAAC;MAC/DH,oBAAoB,CAAC,KAAK,CAAC;MAC3BkB,aAAa,CAACL,MAAM,CAACgB,IAAI,CAAC,CAAC,IAAIC,SAAS,CAAC;IAC3C,CAAC,CAAC,OAAOzB,KAAU,EAAE;MAAA,IAAA+B,gBAAA,EAAAC,qBAAA;MACnB/B,QAAQ,CAAC,EAAA8B,gBAAA,GAAA/B,KAAK,CAACe,QAAQ,cAAAgB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBb,IAAI,cAAAc,qBAAA,uBAApBA,qBAAA,CAAsBX,OAAO,KAAI,wBAAwB,CAAC;IACrE;EACF,CAAC;EAED,MAAMY,gBAAgB,GAAI5B,OAAgB,IAAK;IAC7CF,eAAe,CAAC;MAAEC,IAAI,EAAE,IAAI;MAAEC;IAAQ,CAAC,CAAC;EAC1C,CAAC;EAED,MAAM6B,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI,CAAChC,YAAY,CAACG,OAAO,EAAE;IAC3BE,WAAW,CAAC,IAAI,CAAC;IACjB,IAAI;MACF,MAAMvB,UAAU,CAACmD,UAAU,CAACjC,YAAY,CAACG,OAAO,CAACyB,GAAG,CAAC;MACrD3B,eAAe,CAAC;QAAEC,IAAI,EAAE,KAAK;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;MAC/C,MAAMQ,aAAa,CAACL,MAAM,CAACgB,IAAI,CAAC,CAAC,IAAIC,SAAS,CAAC;IACjD,CAAC,CAAC,OAAOzB,KAAU,EAAE;MAAA,IAAAoC,gBAAA,EAAAC,qBAAA;MACnBpC,QAAQ,CAAC,EAAAmC,gBAAA,GAAApC,KAAK,CAACe,QAAQ,cAAAqB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBlB,IAAI,cAAAmB,qBAAA,uBAApBA,qBAAA,CAAsBhB,OAAO,KAAI,0BAA0B,CAAC;IACvE,CAAC,SAAS;MACRd,WAAW,CAAC,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAM+B,cAAc,GAAGA,CAACC,MAAc,EAAEC,QAAgB,GAAG,KAAK,KAAK;IACnE,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;MACpCC,KAAK,EAAE,UAAU;MACjBH;IACF,CAAC,CAAC,CAACI,MAAM,CAACL,MAAM,CAAC;EACnB,CAAC;EAED,MAAMM,UAAU,GAAIC,UAAkB,IAAK;IACzC,OAAO,IAAIC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAC;EACzD,CAAC;EAED,MAAMC,kBAAkB,GAAIC,OAAgB,IAAK;IAC/C,oBACEhE,OAAA,CAACP,GAAG;MACFiC,KAAK,EAAEsC,OAAO,CAACC,MAAM,GAAG,MAAM,GAAG,QAAS;MAC1CC,QAAQ,EAAEF,OAAO,CAACC,MAAM,GAAG,SAAS,GAAG,QAAS;MAChDE,SAAS,EAAC;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvB,CAAC;EAEN,CAAC;EAED,MAAMC,yBAAyB,GAAIR,OAAgB,IAAK;IACtD,IAAI,CAACA,OAAO,CAACpD,aAAa,EAAE,oBAAOZ,OAAA;MAAMmE,SAAS,EAAC,UAAU;MAAAM,QAAA,EAAC;IAAC;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;IACtE,oBACEvE,OAAA;MAAKmE,SAAS,EAAC,gBAAgB;MAAAM,QAAA,gBAC7BzE,OAAA;QAAGmE,SAAS,EAAE,MAAMH,OAAO,CAACpD,aAAa,KAAK,UAAU,GAAG,gBAAgB,GAAG,SAAS;MAAG;QAAAwD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC/FvE,OAAA;QAAAyE,QAAA,EAAOT,OAAO,CAACpD;MAAa;QAAAwD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC,CAAC;EAEV,CAAC;EAED,MAAMG,kBAAkB,GAAIV,OAAgB,IAAK;IAC/C,MAAMW,SAAS,GAAG,SAAS,CAAC,CAAC;IAC7B,MAAMC,SAAS,GAAG,SAAS,CAAC,CAAC;IAC7B,MAAMC,YAAY,GAAG,2DAA2D;IAEhF,oBACE7E,OAAA;MAAKyD,KAAK,EAAE;QAAEqB,OAAO,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAE,CAAE;MAAAN,QAAA,gBACtCzE,OAAA,CAACR,MAAM;QACLwF,IAAI,EAAC,WAAW;QAChBb,SAAS,EAAEU,YAAa;QACxBI,OAAO,EAAEA,CAAA,KAAM;UACb,MAAMC,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAGF,MAAM,CAACC,QAAQ,CAACE,QAAQ;UAC9D,MAAMC,GAAG,GAAG,GAAGL,IAAI,cAAclB,OAAO,CAACpB,GAAG,EAAE;UAC9CuC,MAAM,CAACjE,IAAI,CAACqE,GAAG,EAAE,QAAQ,CAAC;QAC5B,CAAE;QACF,cAAW,MAAM;QACjBC,OAAO,EAAC;MAAM;QAAApB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,eACFvE,OAAA,CAACR,MAAM;QACLwF,IAAI,EAAC,oBAAoB;QACzBb,SAAS,EAAEU,YAAa;QACxBI,OAAO,EAAEA,CAAA,KAAM,CAACjB,OAAO,CAACC,MAAM,IAAIxB,gBAAgB,CAACuB,OAAO,CAAE;QAC5D,cAAYA,OAAO,CAACC,MAAM,GAAG,MAAM,GAAG,cAAe;QACrDuB,OAAO,EAAExB,OAAO,CAACC,MAAM,GAAG,MAAM,GAAG,cAAe;QAClDR,KAAK,EAAE;UAAEgC,KAAK,EAAEzB,OAAO,CAACC,MAAM,GAAGU,SAAS,GAAGC;QAAU;MAAE;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1D,CAAC,EACDrE,OAAO,iBACNF,OAAA,CAACR,MAAM;QACLwF,IAAI,EAAC,aAAa;QAClBb,SAAS,EAAEU,YAAa;QACxBI,OAAO,EAAEA,CAAA,KAAMhE,eAAe,CAAC;UAAEC,IAAI,EAAE,IAAI;UAAEC,OAAO,EAAE6C;QAAQ,CAAC,CAAE;QACjE,cAAW,QAAQ;QACnBwB,OAAO,EAAC;MAAQ;QAAApB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjB,CACF;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAEV,CAAC;EAED,MAAMmB,kBAAkB,GAAI1B,OAAgB,IAAK;IAC/C,oBACEhE,OAAA;MAAKmE,SAAS,EAAC,aAAa;MAAAM,QAAA,eAC1BzE,OAAA;QAAMmE,SAAS,EAAC,cAAc;QAAAM,QAAA,EAAErB,cAAc,CAACY,OAAO,CAACX,MAAM,EAAGW,OAAO,CAASV,QAAQ,IAAI,KAAK;MAAC;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvG,CAAC;EAEV,CAAC;EAED,MAAMoB,mBAAmB,GAAI3B,OAAgB,IAAK;IAChD,MAAM4B,OAAO,GAAG,IAAI/B,IAAI,CAACG,OAAO,CAAC4B,OAAO,CAAC;IACzC,MAAMC,KAAK,GAAG,IAAIhC,IAAI,CAAC,CAAC;IACxB,MAAMiC,SAAS,GAAGF,OAAO,GAAGC,KAAK,IAAI,CAAC7B,OAAO,CAACC,MAAM;IAEpD,oBACEjE,OAAA;MAAKmE,SAAS,EAAE,YAAY2B,SAAS,GAAG,SAAS,GAAG,EAAE,EAAG;MAAArB,QAAA,gBACvDzE,OAAA;QAAGmE,SAAS,EAAC;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClCvE,OAAA;QAAAyE,QAAA,EAAOd,UAAU,CAACK,OAAO,CAAC4B,OAAO;MAAC;QAAAxB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,EACzCuB,SAAS,iBAAI9F,OAAA;QAAGmE,SAAS,EAAC;MAA8C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3E,CAAC;EAEV,CAAC;EAED,oBACEvE,OAAA;IAAKmE,SAAS,EAAC,wBAAwB;IAAAM,QAAA,gBACrCzE,OAAA;MAAKmE,SAAS,EAAC,aAAa;MAAAM,QAAA,gBAC1BzE,OAAA;QAAKmE,SAAS,EAAC,aAAa;QAAAM,QAAA,gBAC1BzE,OAAA;UAAImE,SAAS,EAAC,YAAY;UAAAM,QAAA,gBACxBzE,OAAA;YAAGmE,SAAS,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAC/BrE,OAAO,GAAG,cAAc,GAAG,aAAa;QAAA;UAAAkE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eACLvE,OAAA;UAAKyD,KAAK,EAAE;YAAEsC,SAAS,EAAE;UAAE,CAAE;UAAAtB,QAAA,eAC3BzE,OAAA;YACEgG,IAAI,EAAC,MAAM;YACXC,WAAW,EAAC,0CAA0C;YACtDvE,KAAK,EAAEJ,MAAO;YACd4E,QAAQ,EAAGC,CAAC,IAAK5E,SAAS,CAAC4E,CAAC,CAACC,MAAM,CAAC1E,KAAK,CAAE;YAC3C+B,KAAK,EAAE;cAAE4C,KAAK,EAAE,MAAM;cAAEC,QAAQ,EAAE;YAAI;UAAE;YAAAlC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNvE,OAAA;UAAGmE,SAAS,EAAC,eAAe;UAAAM,QAAA,GACzBrE,QAAQ,CAACmG,MAAM,EAAC,QACnB;QAAA;UAAAnC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACNvE,OAAA,CAACR,MAAM;QACLiC,KAAK,EAAC,SAAS;QACfuD,IAAI,EAAC,eAAe;QACpBb,SAAS,EAAC,gBAAgB;QAC1Bc,OAAO,EAAEA,CAAA,KAAMtD,aAAa,CAACL,MAAM,CAACgB,IAAI,CAAC,CAAC,IAAIC,SAAS;MAAE;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1D,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAELzD,KAAK,iBACJd,OAAA,CAACJ,OAAO;MAACsE,QAAQ,EAAC,OAAO;MAACsC,IAAI,EAAE1F,KAAM;MAACqD,SAAS,EAAC;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CACnE,eAEDvE,OAAA,CAACH,IAAI;MAACsE,SAAS,EAAC,eAAe;MAAAM,QAAA,eAC7BzE,OAAA,CAACV,SAAS;QACRoC,KAAK,EAAEtB,QAAS;QAChBE,OAAO,EAAEA,OAAQ;QACjBmG,SAAS;QACTC,IAAI,EAAE,EAAG;QACTC,kBAAkB,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAE;QAChCC,YAAY,EAAC,aAAa;QAC1BzC,SAAS,EAAC,gBAAgB;QAC1B0C,iBAAiB,EAAC,sGAAsG;QACxHC,yBAAyB,EAAC,6CAA6C;QAAArC,QAAA,gBAEvEzE,OAAA,CAACT,MAAM;UAACwH,KAAK,EAAC,kBAAkB;UAACC,MAAM,EAAC,YAAY;UAAC7C,SAAS,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACjFvE,OAAA,CAACT,MAAM;UAACwH,KAAK,EAAC,YAAY;UAACC,MAAM,EAAC,QAAQ;UAAC7C,SAAS,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACvEvE,OAAA,CAACT,MAAM;UAACwH,KAAK,EAAC,aAAa;UAACC,MAAM,EAAC,OAAO;UAAC7C,SAAS,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACtEvE,OAAA,CAACT,MAAM;UAACwH,KAAK,EAAC,QAAQ;UAACC,MAAM,EAAC,QAAQ;UAACC,IAAI,EAAEvB,kBAAmB;UAACvB,SAAS,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC7FvE,OAAA,CAACT,MAAM;UAACwH,KAAK,EAAC,SAAS;UAACC,MAAM,EAAC,UAAU;UAACC,IAAI,EAAEtB,mBAAoB;UAACxB,SAAS,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACnGvE,OAAA,CAACT,MAAM;UAACwH,KAAK,EAAC,QAAQ;UAACC,MAAM,EAAC,QAAQ;UAACC,IAAI,EAAElD,kBAAmB;UAACI,SAAS,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC7FvE,OAAA,CAACT,MAAM;UAACwH,KAAK,EAAC,eAAe;UAACC,MAAM,EAAC,gBAAgB;UAACC,IAAI,EAAEzC,yBAA0B;UAACL,SAAS,EAAC;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACpHvE,OAAA,CAACT,MAAM;UAACyH,MAAM,EAAC,SAAS;UAACC,IAAI,EAAEvC,kBAAmB;UAACP,SAAS,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,eAEPvE,OAAA,CAACN,MAAM;MACLsH,MAAM,EAAC,cAAc;MACrBE,OAAO,EAAE1G,iBAAkB;MAC3BiD,KAAK,EAAE;QAAE4C,KAAK,EAAE;MAAQ,CAAE;MAC1Bc,MAAM,EAAEA,CAAA,KAAM1G,oBAAoB,CAAC,KAAK,CAAE;MAC1C0D,SAAS,EAAC,gBAAgB;MAAAM,QAAA,eAE1BzE,OAAA;QAAKmE,SAAS,EAAC,cAAc;QAAAM,QAAA,gBAC3BzE,OAAA;UAAKmE,SAAS,EAAC,OAAO;UAAAM,QAAA,gBACpBzE,OAAA;YAAOoH,OAAO,EAAC,eAAe;YAACjD,SAAS,EAAC,aAAa;YAAAM,QAAA,EAAC;UAAc;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC7EvE,OAAA,CAACL,QAAQ;YACP0H,EAAE,EAAC,eAAe;YAClB3F,KAAK,EAAEd,aAAc;YACrB0G,OAAO,EAAE9F,cAAe;YACxB0E,QAAQ,EAAGC,CAAC,IAAKtF,gBAAgB,CAACsF,CAAC,CAACzE,KAAK,CAAE;YAC3CyC,SAAS,EAAC,aAAa;YACvB8B,WAAW,EAAC;UAAe;YAAA7B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNvE,OAAA;UAAKmE,SAAS,EAAC,gBAAgB;UAAAM,QAAA,gBAC7BzE,OAAA,CAACR,MAAM;YACLiC,KAAK,EAAC,QAAQ;YACdyC,QAAQ,EAAC,WAAW;YACpBe,OAAO,EAAEA,CAAA,KAAMxE,oBAAoB,CAAC,KAAK;UAAE;YAAA2D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC,eACFvE,OAAA,CAACR,MAAM;YACLiC,KAAK,EAAC,SAAS;YACfwD,OAAO,EAAEvC,cAAe;YACxB6E,QAAQ,EAAE,CAAC3G;UAAc;YAAAwD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAETvE,OAAA,CAACN,MAAM;MACLsH,MAAM,EAAEhG,YAAY,CAACG,OAAO,GAAG,gBAAgB,GAAG,gBAAiB;MACnE+F,OAAO,EAAElG,YAAY,CAACE,IAAK;MAC3BuC,KAAK,EAAE;QAAE4C,KAAK,EAAE;MAAQ,CAAE;MAC1Bc,MAAM,EAAEA,CAAA,KAAMlG,eAAe,CAAC;QAAEC,IAAI,EAAE,KAAK;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAE;MAAAsD,QAAA,gBAE9DzE,OAAA;QAAAyE,QAAA,EAAG;MAA6C;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACpDvE,OAAA;QAAKyD,KAAK,EAAE;UAAEqB,OAAO,EAAE,MAAM;UAAE0C,cAAc,EAAE,UAAU;UAAEzC,GAAG,EAAE,CAAC;UAAEgB,SAAS,EAAE;QAAG,CAAE;QAAAtB,QAAA,gBACjFzE,OAAA,CAACR,MAAM;UAACiC,KAAK,EAAC,QAAQ;UAACyC,QAAQ,EAAC,WAAW;UAACe,OAAO,EAAEA,CAAA,KAAMhE,eAAe,CAAC;YAAEC,IAAI,EAAE,KAAK;YAAEC,OAAO,EAAE;UAAK,CAAC;QAAE;UAAAiD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC9GvE,OAAA,CAACR,MAAM;UAACiC,KAAK,EAAC,QAAQ;UAACuD,IAAI,EAAC,aAAa;UAACd,QAAQ,EAAC,QAAQ;UAAC5D,OAAO,EAAEc,QAAS;UAAC6D,OAAO,EAAEA,CAAA,KAAOjE,YAAY,CAACG,OAAO,IAAIrB,UAAU,CAACmD,UAAU,CAACjC,YAAY,CAACG,OAAO,CAACyB,GAAG,CAAC,CAAC6E,IAAI,CAAC,MAAM;YAAExG,eAAe,CAAC;cAAEC,IAAI,EAAE,KAAK;cAAEC,OAAO,EAAE;YAAK,CAAC,CAAC;YAAEQ,aAAa,CAACL,MAAM,CAACgB,IAAI,CAAC,CAAC,IAAIC,SAAS,CAAC;UAAE,CAAC;QAAG;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAACpE,EAAA,CAjRIF,WAAuC;AAAAyH,EAAA,GAAvCzH,WAAuC;AAmR7C,eAAeA,WAAW;AAAC,IAAAyH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}